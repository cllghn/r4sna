<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Basic Base R and dplyr Functions | R for Social Network Analysis</title>
  <meta name="description" content="TBD." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Basic Base R and dplyr Functions | R for Social Network Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="TBD." />
  <meta name="github-repo" content="cjcallag/r4sna" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Basic Base R and dplyr Functions | R for Social Network Analysis" />
  
  <meta name="twitter:description" content="TBD." />
  

<meta name="author" content="CORE Lab" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-base-r-and-tidyverse-data-manipulation-cheat-sheet.html"/>
<link rel="next" href="key-sna-functions-and-visualization-cheat-sheet.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="my_style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Social Network Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#instructors"><i class="fa fa-check"></i><b>1.1</b> Instructors</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="2" data-path="setting-up.html"><a href="setting-up.html"><i class="fa fa-check"></i><b>2</b> Setting Up</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setting-up.html"><a href="setting-up.html#r-and-rstudio-basics"><i class="fa fa-check"></i><b>2.1</b> R and RStudio Basics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="setting-up.html"><a href="setting-up.html#basics-of-r-coding-in-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> Basics of R Coding in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="setting-up.html"><a href="setting-up.html#project-workflow"><i class="fa fa-check"></i><b>2.2</b> Project Workflow</a></li>
</ul></li>
<li class="part"><span><b>II Lab 1</b></span></li>
<li class="chapter" data-level="3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><i class="fa fa-check"></i><b>3</b> Importing and Visualizing One- and Two-Mode Social Network Data in <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="3.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#setup"><i class="fa fa-check"></i><b>3.1</b> Setup</a></li>
<li class="chapter" data-level="3.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#load-libraries"><i class="fa fa-check"></i><b>3.2</b> Load Libraries</a></li>
<li class="chapter" data-level="3.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#one-mode-social-network-data-in-igraph-koschade-network"><i class="fa fa-check"></i><b>3.3</b> One-mode Social Network Data in <strong>igraph</strong>: Koschade Network</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#importing-one-mode-social-network-data"><i class="fa fa-check"></i><b>3.3.1</b> Importing One-Mode Social Network Data</a></li>
<li class="chapter" data-level="3.3.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#plotting-visualizing-the-koschade-network"><i class="fa fa-check"></i><b>3.3.2</b> Plotting (Visualizing) the Koschade Network</a></li>
<li class="chapter" data-level="3.3.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#saving-network-plots-e.g.-pdf-jpeg-png-tiff"><i class="fa fa-check"></i><b>3.3.3</b> Saving Network Plots (e.g., pdf, jpeg, png, tiff)</a></li>
<li class="chapter" data-level="3.3.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#saving-network-data"><i class="fa fa-check"></i><b>3.3.4</b> Saving Network Data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#two-mode-social-network-data-in-igraph-davis-southern-women"><i class="fa fa-check"></i><b>3.4</b> Two-mode Social Network Data in <strong>igraph</strong>: Davis Southern Women</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#importing-two-mode-social-network-data-into-igraph"><i class="fa fa-check"></i><b>3.4.1</b> Importing Two-Mode Social Network Data into <strong>igraph</strong></a></li>
<li class="chapter" data-level="3.4.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#plotting-two-mode-social-network-data-in-igraph"><i class="fa fa-check"></i><b>3.4.2</b> Plotting Two-Mode Social Network Data in <strong>igraph</strong></a></li>
<li class="chapter" data-level="3.4.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#projecting-folding-two-mode-networks-into-one-mode-networks-in-igraph"><i class="fa fa-check"></i><b>3.4.3</b> Projecting (Folding) Two-Mode Networks into One-Mode Networks in <strong>igraph</strong></a></li>
<li class="chapter" data-level="3.4.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#plotting-projected-one-mode-networks"><i class="fa fa-check"></i><b>3.4.4</b> Plotting Projected One-Mode Networks</a></li>
<li class="chapter" data-level="3.4.5" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#saving-network-plots"><i class="fa fa-check"></i><b>3.4.5</b> Saving Network Plots</a></li>
<li class="chapter" data-level="3.4.6" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#saving-network-data-1"><i class="fa fa-check"></i><b>3.4.6</b> Saving Network Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><i class="fa fa-check"></i><b>4</b> Importing and Visualizing One- and Two-Mode Social Network Data in <strong>statnet</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#setup-1"><i class="fa fa-check"></i><b>4.1</b> Setup</a></li>
<li class="chapter" data-level="4.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#load-libraries-1"><i class="fa fa-check"></i><b>4.2</b> Load Libraries</a></li>
<li class="chapter" data-level="4.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#one-mode-social-network-data-in-statnet-koschade-network"><i class="fa fa-check"></i><b>4.3</b> One-mode Social Network Data in <strong>statnet</strong>: Koschade Network</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#importing-one-mode-social-network-data-1"><i class="fa fa-check"></i><b>4.3.1</b> Importing One-Mode Social Network Data</a></li>
<li class="chapter" data-level="4.3.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#plotting-visualizing-the-koschade-network-1"><i class="fa fa-check"></i><b>4.3.2</b> Plotting (Visualizing) the Koschade Network</a></li>
<li class="chapter" data-level="4.3.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#saving-network-plots-e.g.-pdf-jpeg-png-tiff-1"><i class="fa fa-check"></i><b>4.3.3</b> Saving Network Plots (e.g., pdf, jpeg, png, tiff)</a></li>
<li class="chapter" data-level="4.3.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#saving-network-data-2"><i class="fa fa-check"></i><b>4.3.4</b> Saving Network Data</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#two-mode-social-network-data-in-statnet-davis-southern-women"><i class="fa fa-check"></i><b>4.4</b> Two-Mode Social Network Data in <strong>statnet</strong>: Davis Southern Women</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#importing-two-mode-network-data"><i class="fa fa-check"></i><b>4.4.1</b> Importing Two-Mode Network Data</a></li>
<li class="chapter" data-level="4.4.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#plotting-two-mode-networks"><i class="fa fa-check"></i><b>4.4.2</b> Plotting Two-Mode Networks</a></li>
<li class="chapter" data-level="4.4.3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#projecting-folding-two-mode-networks-into-one-mode-networks-in-statnet."><i class="fa fa-check"></i><b>4.4.3</b> Projecting (Folding) Two-Mode Networks into One-Mode Networks in <strong>statnet</strong>.</a></li>
<li class="chapter" data-level="4.4.4" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#plotting-projected-one-mode-networks-1"><i class="fa fa-check"></i><b>4.4.4</b> Plotting Projected One-Mode Networks</a></li>
<li class="chapter" data-level="4.4.5" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#saving-network-plots-1"><i class="fa fa-check"></i><b>4.4.5</b> Saving Network Plots</a></li>
<li class="chapter" data-level="4.4.6" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-statnet.html#saving-network-data-3"><i class="fa fa-check"></i><b>4.4.6</b> Saving Network Data</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Lab 2</b></span></li>
<li class="chapter" data-level="5" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html"><i class="fa fa-check"></i><b>5</b> Manipulating and Simplifying Social Network Data in <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="5.1" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#setup-2"><i class="fa fa-check"></i><b>5.1</b> Setup</a></li>
<li class="chapter" data-level="5.2" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#load-libraries-2"><i class="fa fa-check"></i><b>5.2</b> Load Libraries</a></li>
<li class="chapter" data-level="5.3" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#extracting-the-backbones-of-two-mode-network-projections"><i class="fa fa-check"></i><b>5.3</b> Extracting the “Backbones” of Two-Mode Network Projections</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#load-data"><i class="fa fa-check"></i><b>5.3.1</b> Load Data</a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#non-statistical-projections-of-the-co-sponsorhip-data"><i class="fa fa-check"></i><b>5.3.2</b> Non-Statistical Projections of the Co-Sponsorhip Data</a></li>
<li class="chapter" data-level="5.3.3" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#extracting-backbones"><i class="fa fa-check"></i><b>5.3.3</b> Extracting Backbones</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#simplifying-networks-in-igraph-anabaptist-leadership-network"><i class="fa fa-check"></i><b>5.4</b> Simplifying Networks in <strong>igraph</strong>: Anabaptist Leadership Network</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#importing-network-and-attribute-data"><i class="fa fa-check"></i><b>5.4.1</b> Importing Network and Attribute Data</a></li>
<li class="chapter" data-level="5.4.2" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#plotting-the-anabaptist-network"><i class="fa fa-check"></i><b>5.4.2</b> Plotting the Anabaptist Network</a></li>
<li class="chapter" data-level="5.4.3" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#shrinking-collapsing-contracting-networks"><i class="fa fa-check"></i><b>5.4.3</b> Shrinking (Collapsing, Contracting) Networks</a></li>
<li class="chapter" data-level="5.4.4" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#extracting-subnetworks"><i class="fa fa-check"></i><b>5.4.4</b> Extracting Subnetworks</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#multiple-stacked-networks-in-igraph-sampson-monastery"><i class="fa fa-check"></i><b>5.5</b> Multiple (Stacked) Networks in <strong>igraph</strong>: Sampson Monastery</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#importing-edge-list-network-data"><i class="fa fa-check"></i><b>5.5.1</b> Importing Edge List Network Data</a></li>
<li class="chapter" data-level="5.5.2" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#plotting-stacked-networks"><i class="fa fa-check"></i><b>5.5.2</b> Plotting Stacked Networks</a></li>
<li class="chapter" data-level="5.5.3" data-path="manipulating-and-simplifying-social-network-data-in-igraph.html"><a href="manipulating-and-simplifying-social-network-data-in-igraph.html#extracting-and-plotting-individual-networks"><i class="fa fa-check"></i><b>5.5.3</b> Extracting and Plotting Individual Networks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html"><i class="fa fa-check"></i><b>6</b> Manipulating and Simplifying Social Network Data in <strong>statnet</strong></a>
<ul>
<li class="chapter" data-level="6.1" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#setup-3"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#load-libraries-3"><i class="fa fa-check"></i><b>6.2</b> Load Libraries</a></li>
<li class="chapter" data-level="6.3" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#extracting-the-backbones-of-two-mode-network-projections-1"><i class="fa fa-check"></i><b>6.3</b> Extracting the “Backbones” of Two-Mode Network Projections</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#load-data-1"><i class="fa fa-check"></i><b>6.3.1</b> Load Data</a></li>
<li class="chapter" data-level="6.3.2" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#non-statistical-projections-of-the-co-sponsorhip-data-1"><i class="fa fa-check"></i><b>6.3.2</b> Non-Statistical Projections of the Co-Sponsorhip Data</a></li>
<li class="chapter" data-level="6.3.3" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#extracting-backbones-1"><i class="fa fa-check"></i><b>6.3.3</b> Extracting Backbones</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#simplifying-networks-in-statnet-anabaptist-network"><i class="fa fa-check"></i><b>6.4</b> Simplifying Networks in <strong>statnet</strong>: Anabaptist Network</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#importing-network-and-attribute-data-1"><i class="fa fa-check"></i><b>6.4.1</b> Importing Network and Attribute Data</a></li>
<li class="chapter" data-level="6.4.2" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#plotting-the-anabaptist-network-1"><i class="fa fa-check"></i><b>6.4.2</b> Plotting the Anabaptist Network</a></li>
<li class="chapter" data-level="6.4.3" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#shrinking-collapsing-contracting-networks-1"><i class="fa fa-check"></i><b>6.4.3</b> Shrinking (Collapsing, Contracting) Networks</a></li>
<li class="chapter" data-level="6.4.4" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#extracting-subnetworks-1"><i class="fa fa-check"></i><b>6.4.4</b> Extracting Subnetworks</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#multiple-stacked-networks-in-statnet-sampson-monastery"><i class="fa fa-check"></i><b>6.5</b> Multiple (Stacked) Networks in <strong>statnet</strong>: Sampson Monastery</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#importing-edge-list-network-data-1"><i class="fa fa-check"></i><b>6.5.1</b> Importing Edge List Network Data</a></li>
<li class="chapter" data-level="6.5.2" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#plotting-stacked-networks-1"><i class="fa fa-check"></i><b>6.5.2</b> Plotting Stacked Networks</a></li>
<li class="chapter" data-level="6.5.3" data-path="manipulating-and-simplifying-social-network-data-in-statnet.html"><a href="manipulating-and-simplifying-social-network-data-in-statnet.html#extracting-and-plotting-individual-networks-1"><i class="fa fa-check"></i><b>6.5.3</b> Extracting and Plotting Individual Networks</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Lab 3</b></span></li>
<li class="part"><span><b>V Lab 4</b></span></li>
<li class="part"><span><b>VI Lab 5</b></span></li>
<li class="part"><span><b>VII Lab 6</b></span></li>
<li class="part"><span><b>VIII Lab 7</b></span></li>
<li class="part"><span><b>IX Lab 8</b></span></li>
<li class="part"><span><b>X Lab 9</b></span></li>
<li class="part"><span><b>XI Lab 10</b></span></li>
<li class="part"><span><b>XII Appendices</b></span></li>
<li class="chapter" data-level="7" data-path="basic-base-r-and-tidyverse-data-manipulation-cheat-sheet.html"><a href="basic-base-r-and-tidyverse-data-manipulation-cheat-sheet.html"><i class="fa fa-check"></i><b>7</b> Basic Base R and Tidyverse Data Manipulation Cheat Sheet</a></li>
<li class="chapter" data-level="8" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html"><i class="fa fa-check"></i><b>8</b> Basic Base R and <strong>dplyr</strong> Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#installation"><i class="fa fa-check"></i><b>8.1</b> Installation</a></li>
<li class="chapter" data-level="8.2" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#loading"><i class="fa fa-check"></i><b>8.2</b> Loading</a></li>
<li class="chapter" data-level="8.3" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#import-and-view-data"><i class="fa fa-check"></i><b>8.3</b> Import and View Data</a></li>
<li class="chapter" data-level="8.4" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#extracting-variablescolumns"><i class="fa fa-check"></i><b>8.4</b> Extracting Variables/Columns</a></li>
<li class="chapter" data-level="8.5" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#creating-filtersextracting-rows"><i class="fa fa-check"></i><b>8.5</b> Creating Filters/Extracting Rows</a></li>
<li class="chapter" data-level="8.6" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#arrange-rows"><i class="fa fa-check"></i><b>8.6</b> Arrange Rows</a></li>
<li class="chapter" data-level="8.7" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#making-a-new-columnvariable"><i class="fa fa-check"></i><b>8.7</b> Making a New Column/Variable</a></li>
<li class="chapter" data-level="8.8" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#rename-variables"><i class="fa fa-check"></i><b>8.8</b> Rename Variables</a></li>
<li class="chapter" data-level="8.9" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#summarizing"><i class="fa fa-check"></i><b>8.9</b> Summarizing</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#simple-summary"><i class="fa fa-check"></i><b>8.9.1</b> Simple Summary</a></li>
<li class="chapter" data-level="8.9.2" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#group-summary"><i class="fa fa-check"></i><b>8.9.2</b> Group Summary</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#combining-data"><i class="fa fa-check"></i><b>8.10</b> Combining Data</a>
<ul>
<li class="chapter" data-level="8.10.1" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#left-join"><i class="fa fa-check"></i><b>8.10.1</b> Left Join</a></li>
<li class="chapter" data-level="8.10.2" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#right-join"><i class="fa fa-check"></i><b>8.10.2</b> Right Join</a></li>
<li class="chapter" data-level="8.10.3" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#inner-join"><i class="fa fa-check"></i><b>8.10.3</b> Inner Join</a></li>
<li class="chapter" data-level="8.10.4" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#full-join"><i class="fa fa-check"></i><b>8.10.4</b> Full Join</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="basic-base-r-and-dplyr-functions.html"><a href="basic-base-r-and-dplyr-functions.html#piping-multiple-variables"><i class="fa fa-check"></i><b>8.11</b> Piping Multiple Variables</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html"><i class="fa fa-check"></i><b>9</b> Key SNA Functions and Visualization Cheat Sheet</a>
<ul>
<li class="chapter" data-level="9.1" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#igraph"><i class="fa fa-check"></i><b>9.1</b> <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#creating-a-graph-object-in-igraph"><i class="fa fa-check"></i><b>9.1.1</b> Creating a graph object in <strong>igraph</strong></a></li>
<li class="chapter" data-level="9.1.2" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#visualization-parameters-and-layouts-in-igraph"><i class="fa fa-check"></i><b>9.1.2</b> Visualization Parameters and Layouts in <strong>igraph</strong></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#statnet"><i class="fa fa-check"></i><b>9.2</b> <strong>statnet</strong></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#creating-a-graph-object-in-statnet"><i class="fa fa-check"></i><b>9.2.1</b> Creating a graph object in <strong>statnet</strong></a></li>
<li class="chapter" data-level="9.2.2" data-path="key-sna-functions-and-visualization-cheat-sheet.html"><a href="key-sna-functions-and-visualization-cheat-sheet.html#visualization-parameters-and-layouts-in-statnet"><i class="fa fa-check"></i><b>9.2.2</b> Visualization Parameters and Layouts in <strong>statnet</strong></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>XIII References</b></span></li>
<li class="chapter" data-level="10" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>10</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">
Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Social Network Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-base-r-and-dplyr-functions" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Basic Base R and <strong>dplyr</strong> Functions</h1>
<div class="row">
<div class="lcolumn-50">
<p><img src="imgs/Rlogo.png" width="50%" angle=0 style="display: block; margin: auto;" /></p>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p><img src="imgs/04-dplyr-logo.png" width="50%" angle=0 style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="installation" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Installation</h2>
<p>The first step is to make sure that you have installed and loaded the
necessary packages.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="basic-base-r-and-dplyr-functions.html#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No installation required</span></span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="basic-base-r-and-dplyr-functions.html#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb358-2"><a href="basic-base-r-and-dplyr-functions.html#cb358-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-3"><a href="basic-base-r-and-dplyr-functions.html#cb358-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively, only install dplyr and readr</span></span>
<span id="cb358-4"><a href="basic-base-r-and-dplyr-functions.html#cb358-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb358-5"><a href="basic-base-r-and-dplyr-functions.html#cb358-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readr&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="loading" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Loading</h2>
<p>You can either install and load <strong>tidyverse</strong>, or you can load specific
packages within it, such as <strong>dplyr</strong>. Though it is not required for
this demonstration, we will use <code>::</code> to call <strong>dplyr</strong> before using one
of its functions, in part, because some packages have the same name for
different functions and we think this is a useful practice when using
multiple packages during an analysis, which will be the case most of
time.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="basic-base-r-and-dplyr-functions.html#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No loading required.</span></span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="basic-base-r-and-dplyr-functions.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You may load the whole tidyverse</span></span>
<span id="cb360-2"><a href="basic-base-r-and-dplyr-functions.html#cb360-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb360-3"><a href="basic-base-r-and-dplyr-functions.html#cb360-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-4"><a href="basic-base-r-and-dplyr-functions.html#cb360-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively load packages from the tidyverse</span></span>
<span id="cb360-5"><a href="basic-base-r-and-dplyr-functions.html#cb360-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb360-6"><a href="basic-base-r-and-dplyr-functions.html#cb360-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code></pre></div>
</div>
</div>
<div class="infobox">
<p>The <strong>tidyverse</strong> often utilizes “piping” (<code>%&gt;%</code>) to execute an action.
You can think of the <code>%&gt;%</code> as saying “and then” followed by a function
or action. The use of this operator is not required, but we will use it
here.</p>
<p>For example, you can think of a data frame object as a noun in a
sentence, and the functions as verbs. Compare the following two morning
routines to see the advantages of using <code>%&gt;%</code>to write programming
instructions:</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="basic-base-r-and-dplyr-functions.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">go_work</span>(<span class="fu">get_ready</span>(<span class="fu">eat</span>(<span class="fu">wake_up</span>(you))))</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="basic-base-r-and-dplyr-functions.html#cb362-1" aria-hidden="true" tabindex="-1"></a>you <span class="sc">%&gt;%</span> <span class="co"># &#39;and then...&#39;</span></span>
<span id="cb362-2"><a href="basic-base-r-and-dplyr-functions.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wake_up</span>() <span class="sc">%&gt;%</span> <span class="co"># &#39;and then...&#39;</span></span>
<span id="cb362-3"><a href="basic-base-r-and-dplyr-functions.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">eat</span>() <span class="sc">%&gt;%</span> <span class="co"># &#39;and then...&#39;</span></span>
<span id="cb362-4"><a href="basic-base-r-and-dplyr-functions.html#cb362-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_ready</span>() <span class="sc">%&gt;%</span> <span class="co"># &#39;and then...&#39;</span></span>
<span id="cb362-5"><a href="basic-base-r-and-dplyr-functions.html#cb362-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">go_work</span>() <span class="co"># &#39;and then...&#39;</span></span></code></pre></div>
</div>
</div>
<p>Which “sentence” makes more sense in understanding the sequence of
events? Some prefer the syntax on the right as it improves readability.</p>
</div>
</div>
<div id="import-and-view-data" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Import and View Data</h2>
<p>Go ahead and load the data set for this walk through, which is a Twitter
data set pulled from Twitter’s open API that focuses on the Popular
Mobilization Forces (PMF) in Iraq.</p>
<div class="row">
<div class="lcolumn-50">
<p>Some people feel more comfortable using base R functions to import data
with <code>read.csv()</code>.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="basic-base-r-and-dplyr-functions.html#cb363-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/twitter_pmf.csv&quot;</span>,</span>
<span id="cb363-2"><a href="basic-base-r-and-dplyr-functions.html#cb363-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">header =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p>Here are some simple functions to view your data.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="basic-base-r-and-dplyr-functions.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the dimensions of a data frame.</span></span>
<span id="cb364-2"><a href="basic-base-r-and-dplyr-functions.html#cb364-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)  </span>
<span id="cb364-3"><a href="basic-base-r-and-dplyr-functions.html#cb364-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-4"><a href="basic-base-r-and-dplyr-functions.html#cb364-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print column names in your data set.</span></span>
<span id="cb364-5"><a href="basic-base-r-and-dplyr-functions.html#cb364-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)</span>
<span id="cb364-6"><a href="basic-base-r-and-dplyr-functions.html#cb364-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-7"><a href="basic-base-r-and-dplyr-functions.html#cb364-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print a few rows of your data set.</span></span>
<span id="cb364-8"><a href="basic-base-r-and-dplyr-functions.html#cb364-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df) <span class="co"># Top rows</span></span>
<span id="cb364-9"><a href="basic-base-r-and-dplyr-functions.html#cb364-9" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df) <span class="co"># Bottom rows</span></span>
<span id="cb364-10"><a href="basic-base-r-and-dplyr-functions.html#cb364-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-11"><a href="basic-base-r-and-dplyr-functions.html#cb364-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Get an object summary</span></span>
<span id="cb364-12"><a href="basic-base-r-and-dplyr-functions.html#cb364-12" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span>
<span id="cb364-13"><a href="basic-base-r-and-dplyr-functions.html#cb364-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-14"><a href="basic-base-r-and-dplyr-functions.html#cb364-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Observe your data set in a separate window.</span></span>
<span id="cb364-15"><a href="basic-base-r-and-dplyr-functions.html#cb364-15" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(df) </span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>To import csv files using the tidy framework, use the <strong>readr</strong>
package’s <code>read_csv()</code> function.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="basic-base-r-and-dplyr-functions.html#cb365-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;data/twitter_pmf.csv&quot;</span>,</span>
<span id="cb365-2"><a href="basic-base-r-and-dplyr-functions.html#cb365-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">col_names =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p>Inspect you data with <code>glimpse()</code> and others.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="basic-base-r-and-dplyr-functions.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the data in the console.</span></span>
<span id="cb366-2"><a href="basic-base-r-and-dplyr-functions.html#cb366-2" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> </span>
<span id="cb366-3"><a href="basic-base-r-and-dplyr-functions.html#cb366-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span>
<span id="cb366-4"><a href="basic-base-r-and-dplyr-functions.html#cb366-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-5"><a href="basic-base-r-and-dplyr-functions.html#cb366-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Describe dimensions.</span></span>
<span id="cb366-6"><a href="basic-base-r-and-dplyr-functions.html#cb366-6" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> </span>
<span id="cb366-7"><a href="basic-base-r-and-dplyr-functions.html#cb366-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span>
<span id="cb366-8"><a href="basic-base-r-and-dplyr-functions.html#cb366-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-9"><a href="basic-base-r-and-dplyr-functions.html#cb366-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use base R descriptive functions.</span></span>
<span id="cb366-10"><a href="basic-base-r-and-dplyr-functions.html#cb366-10" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb366-11"><a href="basic-base-r-and-dplyr-functions.html#cb366-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb366-12"><a href="basic-base-r-and-dplyr-functions.html#cb366-12" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> </span>
<span id="cb366-13"><a href="basic-base-r-and-dplyr-functions.html#cb366-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>()</span>
<span id="cb366-14"><a href="basic-base-r-and-dplyr-functions.html#cb366-14" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> </span>
<span id="cb366-15"><a href="basic-base-r-and-dplyr-functions.html#cb366-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code></pre></div>
</div>
</div>
<div class="infobox">
<p>Note that in this cheat sheet we are not assigning the output from each
operation into a new object. If the printed output in the console is not
enough to compare the differences between the base R and tidy grammar,
you may want to assign the output to new objects and inspect it in the
viewer like so:</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="basic-base-r-and-dplyr-functions.html#cb367-1" aria-hidden="true" tabindex="-1"></a>my_df_head <span class="ot">&lt;-</span> <span class="fu">head</span>(df)</span>
<span id="cb367-2"><a href="basic-base-r-and-dplyr-functions.html#cb367-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-3"><a href="basic-base-r-and-dplyr-functions.html#cb367-3" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(my_df_head)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="basic-base-r-and-dplyr-functions.html#cb368-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb368-2"><a href="basic-base-r-and-dplyr-functions.html#cb368-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb368-3"><a href="basic-base-r-and-dplyr-functions.html#cb368-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">View</span>()</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="extracting-variablescolumns" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Extracting Variables/Columns</h2>
<div class="row">
<div class="lcolumn-50">
<p>Extracting variables in base R uses the <code>[</code> accessor in combination with
<code>c()</code> to extract the desired columns. Note the quotation marks around
each variable.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="basic-base-r-and-dplyr-functions.html#cb369-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb369-2"><a href="basic-base-r-and-dplyr-functions.html#cb369-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;retweet_count&quot;</span>,</span>
<span id="cb369-3"><a href="basic-base-r-and-dplyr-functions.html#cb369-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;location&quot;</span>, <span class="st">&quot;followers_count&quot;</span>)]</span></code></pre></div>
<p>You can extract by column index in base R. The numbers indicate the
column numbers (e.g., <code>screen_name</code> is column 4 in our data).</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="basic-base-r-and-dplyr-functions.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine indexes with c()</span></span>
<span id="cb370-2"><a href="basic-base-r-and-dplyr-functions.html#cb370-2" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">74</span>, <span class="dv">78</span>)]</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>Use <strong>dplyr’s</strong> <code>select()</code> function to extract a handful of columns of
interest. Note that variable names are unquoted and separated by commas.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="basic-base-r-and-dplyr-functions.html#cb371-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb371-2"><a href="basic-base-r-and-dplyr-functions.html#cb371-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(screen_name,  retweet_count, </span>
<span id="cb371-3"><a href="basic-base-r-and-dplyr-functions.html#cb371-3" aria-hidden="true" tabindex="-1"></a>         location, followers_count)</span></code></pre></div>
<p>You can use a column index as well. Note you can just declare the column
indexes inside the <code>select()</code> function.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="basic-base-r-and-dplyr-functions.html#cb372-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb372-2"><a href="basic-base-r-and-dplyr-functions.html#cb372-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">74</span>, <span class="dv">78</span>)</span></code></pre></div>
</div>
</div>
<p>You could take a look at the top 5 rows of the selected variables by
combining functions.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="basic-base-r-and-dplyr-functions.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine indexes with c()</span></span>
<span id="cb373-2"><a href="basic-base-r-and-dplyr-functions.html#cb373-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">78</span>)],</span>
<span id="cb373-3"><a href="basic-base-r-and-dplyr-functions.html#cb373-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>   screen_name retweet_count followers_count
1 warmediateam             1            3073
2 warmediateam             2            3073
3 warmediateam             2            3073
4 warmediateam             3            3073
5 warmediateam             3            3073</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="basic-base-r-and-dplyr-functions.html#cb375-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb375-2"><a href="basic-base-r-and-dplyr-functions.html#cb375-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">78</span>) <span class="sc">%&gt;%</span></span>
<span id="cb375-3"><a href="basic-base-r-and-dplyr-functions.html#cb375-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 3
  screen_name  retweet_count followers_count
  &lt;chr&gt;                &lt;dbl&gt;           &lt;dbl&gt;
1 warmediateam             1            3073
2 warmediateam             2            3073
3 warmediateam             2            3073
4 warmediateam             3            3073
5 warmediateam             3            3073</code></pre>
</div>
</div>
</div>
<div id="creating-filtersextracting-rows" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Creating Filters/Extracting Rows</h2>
<p>Here we will create a filter for all tweets that have been retweeted 10
or more times.</p>
<div class="row">
<div class="lcolumn-50">
<p>Filtering in base R requires the <code>[</code> accessor.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="basic-base-r-and-dplyr-functions.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The $ accessor to gets the vector.</span></span>
<span id="cb377-2"><a href="basic-base-r-and-dplyr-functions.html#cb377-2" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span>, ]</span></code></pre></div>
<p>Additionally, the <code>subset()</code> function produces the same results.</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="basic-base-r-and-dplyr-functions.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>Create filters using the <code>filter()</code> function.</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="basic-base-r-and-dplyr-functions.html#cb379-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb379-2"><a href="basic-base-r-and-dplyr-functions.html#cb379-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span>)</span></code></pre></div>
</div>
</div>
<p>You may use multiple filtering criteria by chaining the arguments with
the <code>|</code> (or) and <code>&amp;</code> (and) operators. For instance, add a second filter
to return only tweets from the account “warmediateam.”</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="basic-base-r-and-dplyr-functions.html#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, </span>
<span id="cb380-2"><a href="basic-base-r-and-dplyr-functions.html#cb380-2" aria-hidden="true" tabindex="-1"></a>       retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb380-3"><a href="basic-base-r-and-dplyr-functions.html#cb380-3" aria-hidden="true" tabindex="-1"></a>       screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="basic-base-r-and-dplyr-functions.html#cb381-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb381-2"><a href="basic-base-r-and-dplyr-functions.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb381-3"><a href="basic-base-r-and-dplyr-functions.html#cb381-3" aria-hidden="true" tabindex="-1"></a>           screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>For a much clearer print out, combine the filtering techniques with the
variable selection methods:</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="basic-base-r-and-dplyr-functions.html#cb382-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pass limited data frame to subset().</span></span>
<span id="cb382-2"><a href="basic-base-r-and-dplyr-functions.html#cb382-2" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">74</span>, <span class="dv">78</span>)], </span>
<span id="cb382-3"><a href="basic-base-r-and-dplyr-functions.html#cb382-3" aria-hidden="true" tabindex="-1"></a>       retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb382-4"><a href="basic-base-r-and-dplyr-functions.html#cb382-4" aria-hidden="true" tabindex="-1"></a>       screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="basic-base-r-and-dplyr-functions.html#cb383-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb383-2"><a href="basic-base-r-and-dplyr-functions.html#cb383-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb383-3"><a href="basic-base-r-and-dplyr-functions.html#cb383-3" aria-hidden="true" tabindex="-1"></a>           screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb383-4"><a href="basic-base-r-and-dplyr-functions.html#cb383-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">74</span>, <span class="dv">78</span>)</span></code></pre></div>
</div>
</div>
<p>You could take a look at the top rows of the filtered output combining
functions.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="basic-base-r-and-dplyr-functions.html#cb384-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb384-2"><a href="basic-base-r-and-dplyr-functions.html#cb384-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subset</span>(df[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">78</span>)], </span>
<span id="cb384-3"><a href="basic-base-r-and-dplyr-functions.html#cb384-3" aria-hidden="true" tabindex="-1"></a>         retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb384-4"><a href="basic-base-r-and-dplyr-functions.html#cb384-4" aria-hidden="true" tabindex="-1"></a>        screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>),</span>
<span id="cb384-5"><a href="basic-base-r-and-dplyr-functions.html#cb384-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>    screen_name retweet_count followers_count
17 warmediateam            22            3073
31 warmediateam            13            3073
33 warmediateam            13            3073
36 warmediateam            10            3073
37 warmediateam            10            3073</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="basic-base-r-and-dplyr-functions.html#cb386-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb386-2"><a href="basic-base-r-and-dplyr-functions.html#cb386-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_count <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span></span>
<span id="cb386-3"><a href="basic-base-r-and-dplyr-functions.html#cb386-3" aria-hidden="true" tabindex="-1"></a>           screen_name <span class="sc">==</span> <span class="st">&quot;warmediateam&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb386-4"><a href="basic-base-r-and-dplyr-functions.html#cb386-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">4</span>, <span class="dv">14</span>, <span class="dv">78</span>) <span class="sc">%&gt;%</span></span>
<span id="cb386-5"><a href="basic-base-r-and-dplyr-functions.html#cb386-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 3
  screen_name  retweet_count followers_count
  &lt;chr&gt;                &lt;dbl&gt;           &lt;dbl&gt;
1 warmediateam            22            3073
2 warmediateam            13            3073
3 warmediateam            13            3073
4 warmediateam            10            3073
5 warmediateam            10            3073</code></pre>
</div>
</div>
</div>
<div id="arrange-rows" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Arrange Rows</h2>
<p>Here we will arrange that data frame alphabetically by <code>screen_name</code>.</p>
<div class="row">
<div class="lcolumn-50">
<p>Arranging in base R requires the <code>[</code> accessor and the <code>order()</code>
function.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="basic-base-r-and-dplyr-functions.html#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the $ accessor to order a variable.</span></span>
<span id="cb388-2"><a href="basic-base-r-and-dplyr-functions.html#cb388-2" aria-hidden="true" tabindex="-1"></a>df[<span class="fu">order</span>(df<span class="sc">$</span>screen_name), ]</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>In <strong>dplyr</strong> use the <code>arrange()</code> function to sort in ascending order.</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="basic-base-r-and-dplyr-functions.html#cb389-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb389-2"><a href="basic-base-r-and-dplyr-functions.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(screen_name)</span></code></pre></div>
</div>
</div>
<p>You can clean up the printout by combining functions to select relevant variables and examine the top 5 rows.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="basic-base-r-and-dplyr-functions.html#cb390-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb390-2"><a href="basic-base-r-and-dplyr-functions.html#cb390-2" aria-hidden="true" tabindex="-1"></a>  df[<span class="fu">order</span>(df<span class="sc">$</span>screen_name), </span>
<span id="cb390-3"><a href="basic-base-r-and-dplyr-functions.html#cb390-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="st">&quot;screen_name&quot;</span>, <span class="st">&quot;retweet_count&quot;</span>)],</span>
<span id="cb390-4"><a href="basic-base-r-and-dplyr-functions.html#cb390-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>         screen_name retweet_count
3729 5qxsN9lLdn1Nanl             0
3730 5qxsN9lLdn1Nanl            36
3731 5qxsN9lLdn1Nanl             0
3732 5qxsN9lLdn1Nanl            24
3733 5qxsN9lLdn1Nanl             0</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="basic-base-r-and-dplyr-functions.html#cb392-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb392-2"><a href="basic-base-r-and-dplyr-functions.html#cb392-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(screen_name) <span class="sc">%&gt;%</span></span>
<span id="cb392-3"><a href="basic-base-r-and-dplyr-functions.html#cb392-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(screen_name, retweet_count) <span class="sc">%&gt;%</span></span>
<span id="cb392-4"><a href="basic-base-r-and-dplyr-functions.html#cb392-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  screen_name     retweet_count
  &lt;chr&gt;                   &lt;dbl&gt;
1 5qxsN9lLdn1Nanl             0
2 5qxsN9lLdn1Nanl            36
3 5qxsN9lLdn1Nanl             0
4 5qxsN9lLdn1Nanl            24
5 5qxsN9lLdn1Nanl             0</code></pre>
</div>
</div>
<p>You may reverse the order of the variables arranged.</p>
<div class="row">
<div class="lcolumn-50">
<p>Set the <code>decreasing</code> argument to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="basic-base-r-and-dplyr-functions.html#cb394-1" aria-hidden="true" tabindex="-1"></a>df[<span class="fu">order</span>(df<span class="sc">$</span>screen_name,</span>
<span id="cb394-2"><a href="basic-base-r-and-dplyr-functions.html#cb394-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>Include the <code>desc()</code> helper function.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="basic-base-r-and-dplyr-functions.html#cb395-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb395-2"><a href="basic-base-r-and-dplyr-functions.html#cb395-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(screen_name))</span></code></pre></div>
</div>
</div>
<p>Once again, for a much clearer print out, combine the arranging techniques with the
variable selection methods.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="basic-base-r-and-dplyr-functions.html#cb396-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb396-2"><a href="basic-base-r-and-dplyr-functions.html#cb396-2" aria-hidden="true" tabindex="-1"></a>  df[<span class="fu">order</span>(df<span class="sc">$</span>screen_name, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), </span>
<span id="cb396-3"><a href="basic-base-r-and-dplyr-functions.html#cb396-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">14</span>)],</span>
<span id="cb396-4"><a href="basic-base-r-and-dplyr-functions.html#cb396-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>       screen_name retweet_count
4036 zaidaliallawi             0
4037 zaidaliallawi             0
4038 zaidaliallawi             0
4039 zaidaliallawi             0
4040 zaidaliallawi             0</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="basic-base-r-and-dplyr-functions.html#cb398-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb398-2"><a href="basic-base-r-and-dplyr-functions.html#cb398-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(screen_name)) <span class="sc">%&gt;%</span></span>
<span id="cb398-3"><a href="basic-base-r-and-dplyr-functions.html#cb398-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">4</span>, <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb398-4"><a href="basic-base-r-and-dplyr-functions.html#cb398-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  screen_name   retweet_count
  &lt;chr&gt;                 &lt;dbl&gt;
1 zaidaliallawi             0
2 zaidaliallawi             0
3 zaidaliallawi             0
4 zaidaliallawi             0
5 zaidaliallawi             0</code></pre>
</div>
</div>
</div>
<div id="making-a-new-columnvariable" class="section level2" number="8.7">
<h2><span class="header-section-number">8.7</span> Making a New Column/Variable</h2>
<p>The new variable we will create here, <code>retweet_success</code>, is for
demonstration purposes. The variable will be generated by dividing the
<code>retweet_count</code> by the <code>followers_count</code>.</p>
<div class="row">
<div class="lcolumn-50">
<p>In base R, creating a new column requires using the <code>$</code> accessor.</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="basic-base-r-and-dplyr-functions.html#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the new variable into a data frame</span></span>
<span id="cb400-2"><a href="basic-base-r-and-dplyr-functions.html#cb400-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>retweet_success <span class="ot">&lt;-</span> df<span class="sc">$</span>retweet_count<span class="sc">/</span></span>
<span id="cb400-3"><a href="basic-base-r-and-dplyr-functions.html#cb400-3" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>followers_count</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>To create a column in <strong>dplyr</strong> use the <code>mutate()</code> function.</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="basic-base-r-and-dplyr-functions.html#cb401-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb401-2"><a href="basic-base-r-and-dplyr-functions.html#cb401-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">retweet_success =</span> retweet_count<span class="sc">/</span></span>
<span id="cb401-3"><a href="basic-base-r-and-dplyr-functions.html#cb401-3" aria-hidden="true" tabindex="-1"></a>                  followers_count)</span></code></pre></div>
</div>
</div>
<p>Once again, you may want to combine functions to get a clearer print out. Here, we will combine how to create and arrange a new variable, and select a handful of columns.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="basic-base-r-and-dplyr-functions.html#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new variable</span></span>
<span id="cb402-2"><a href="basic-base-r-and-dplyr-functions.html#cb402-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>retweet_success <span class="ot">&lt;-</span> df<span class="sc">$</span>retweet_count<span class="sc">/</span></span>
<span id="cb402-3"><a href="basic-base-r-and-dplyr-functions.html#cb402-3" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>followers_count</span>
<span id="cb402-4"><a href="basic-base-r-and-dplyr-functions.html#cb402-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rearrange, select, and return top 5</span></span>
<span id="cb402-5"><a href="basic-base-r-and-dplyr-functions.html#cb402-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb402-6"><a href="basic-base-r-and-dplyr-functions.html#cb402-6" aria-hidden="true" tabindex="-1"></a>  df[<span class="fu">order</span>(df<span class="sc">$</span>retweet_success, <span class="at">decreasing =</span> <span class="cn">TRUE</span>),</span>
<span id="cb402-7"><a href="basic-base-r-and-dplyr-functions.html#cb402-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="st">&quot;screen_name&quot;</span>, <span class="st">&quot;retweet_success&quot;</span>)],</span>
<span id="cb402-8"><a href="basic-base-r-and-dplyr-functions.html#cb402-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>         screen_name retweet_success
3930 MzcCY48mFeyS1ly             Inf
2241 San_Patricio_BN        3342.643
9591         M_ska98        1613.333
4981          b76142         560.000
4148 8KXS2Iq3JAPEDvi         245.500</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="basic-base-r-and-dplyr-functions.html#cb404-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb404-2"><a href="basic-base-r-and-dplyr-functions.html#cb404-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new variable</span></span>
<span id="cb404-3"><a href="basic-base-r-and-dplyr-functions.html#cb404-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">retweet_success =</span> retweet_count<span class="sc">/</span></span>
<span id="cb404-4"><a href="basic-base-r-and-dplyr-functions.html#cb404-4" aria-hidden="true" tabindex="-1"></a>                  followers_count) <span class="sc">%&gt;%</span></span>
<span id="cb404-5"><a href="basic-base-r-and-dplyr-functions.html#cb404-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rearrange, select, and return top 5</span></span>
<span id="cb404-6"><a href="basic-base-r-and-dplyr-functions.html#cb404-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(retweet_success)) <span class="sc">%&gt;%</span></span>
<span id="cb404-7"><a href="basic-base-r-and-dplyr-functions.html#cb404-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(screen_name, retweet_success) <span class="sc">%&gt;%</span></span>
<span id="cb404-8"><a href="basic-base-r-and-dplyr-functions.html#cb404-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  screen_name     retweet_success
  &lt;chr&gt;                     &lt;dbl&gt;
1 MzcCY48mFeyS1ly            Inf 
2 San_Patricio_BN           3343.
3 M_ska98                   1613.
4 b76142                     560 
5 8KXS2Iq3JAPEDvi            246.</code></pre>
</div>
</div>
</div>
<div id="rename-variables" class="section level2" number="8.8">
<h2><span class="header-section-number">8.8</span> Rename Variables</h2>
<p>Let’s now explore how to rename variables. Begin by taking a look at the
column names, a straightforward way of doing so is using the base R’s
<code>colnames()</code> function.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="basic-base-r-and-dplyr-functions.html#cb406-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="basic-base-r-and-dplyr-functions.html#cb407-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code></pre></div>
</div>
</div>
<p>Now we will select several columns, and then rename them.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="basic-base-r-and-dplyr-functions.html#cb408-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)[<span class="fu">names</span>(df) <span class="sc">==</span> <span class="st">&quot;screen_name&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Screen_Name&quot;</span></span>
<span id="cb408-2"><a href="basic-base-r-and-dplyr-functions.html#cb408-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb408-3"><a href="basic-base-r-and-dplyr-functions.html#cb408-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)[<span class="fu">names</span>(df) <span class="sc">==</span> <span class="st">&quot;retweet_count&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;N_Retweets&quot;</span></span>
<span id="cb408-4"><a href="basic-base-r-and-dplyr-functions.html#cb408-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb408-5"><a href="basic-base-r-and-dplyr-functions.html#cb408-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df[, <span class="fu">c</span>(<span class="st">&quot;Screen_Name&quot;</span>,<span class="st">&quot;N_Retweets&quot;</span>)], </span>
<span id="cb408-6"><a href="basic-base-r-and-dplyr-functions.html#cb408-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>   Screen_Name N_Retweets
1 warmediateam          1
2 warmediateam          2
3 warmediateam          2
4 warmediateam          3
5 warmediateam          3</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="basic-base-r-and-dplyr-functions.html#cb410-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> </span>
<span id="cb410-2"><a href="basic-base-r-and-dplyr-functions.html#cb410-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(screen_name, </span>
<span id="cb410-3"><a href="basic-base-r-and-dplyr-functions.html#cb410-3" aria-hidden="true" tabindex="-1"></a>                retweet_count) <span class="sc">%&gt;%</span></span>
<span id="cb410-4"><a href="basic-base-r-and-dplyr-functions.html#cb410-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Screen_Name =</span> screen_name,</span>
<span id="cb410-5"><a href="basic-base-r-and-dplyr-functions.html#cb410-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">N_Retweets =</span> retweet_count) <span class="sc">%&gt;%</span></span>
<span id="cb410-6"><a href="basic-base-r-and-dplyr-functions.html#cb410-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  Screen_Name  N_Retweets
  &lt;chr&gt;             &lt;dbl&gt;
1 warmediateam          1
2 warmediateam          2
3 warmediateam          2
4 warmediateam          3
5 warmediateam          3</code></pre>
</div>
</div>
</div>
<div id="summarizing" class="section level2" number="8.9">
<h2><span class="header-section-number">8.9</span> Summarizing</h2>
<p>Summary statistics are really useful in describing your data. This can
be done both in base R and in <strong>dplyr</strong>. Here we will explore how to
execute simple summaries first; then, we will move on to calculate group
summaries.</p>
<div id="simple-summary" class="section level3" number="8.9.1">
<h3><span class="header-section-number">8.9.1</span> Simple Summary</h3>
<div class="row">
<div class="lcolumn-50">
<p>To summarize in base R, you will need generic functions to calculate
these statistics. For example, <code>mean()</code>, <code>median()</code>, <code>sum()</code>, etc.</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="basic-base-r-and-dplyr-functions.html#cb412-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with the summary.</span></span>
<span id="cb412-2"><a href="basic-base-r-and-dplyr-functions.html#cb412-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">rt_avg =</span> <span class="fu">mean</span>(df<span class="sc">$</span>retweet_count))</span></code></pre></div>
<pre><code>    rt_avg
1 245.2969</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>To summarize data in <strong>dplyr</strong>, use the <code>summarize()</code> function to
compute a requested summary (e.g., <code>mean()</code>, <code>median()</code>, <code>n()</code>, etc.).</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="basic-base-r-and-dplyr-functions.html#cb414-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb414-2"><a href="basic-base-r-and-dplyr-functions.html#cb414-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">rt_avg =</span> <span class="fu">mean</span>(retweet_count))</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  rt_avg
   &lt;dbl&gt;
1   245.</code></pre>
</div>
</div>
</div>
<div id="group-summary" class="section level3" number="8.9.2">
<h3><span class="header-section-number">8.9.2</span> Group Summary</h3>
<p>Summarizing can be expanded by computing the statistics by groups. For
instance, here we will get the retweet count of each individual; thus,
the group would be each <code>screen_name</code> .</p>
<div class="row">
<div class="lcolumn-50">
<p>Use the <code>aggregate()</code> function to slip the data into subsets and then
proceed to compute summary statistics for each.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="basic-base-r-and-dplyr-functions.html#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(<span class="at">x =</span> df<span class="sc">$</span>retweet_count,</span>
<span id="cb416-2"><a href="basic-base-r-and-dplyr-functions.html#cb416-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="fu">list</span>(<span class="at">screen_name =</span> df<span class="sc">$</span>screen_name),</span>
<span id="cb416-3"><a href="basic-base-r-and-dplyr-functions.html#cb416-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">FUN =</span> mean)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>Group a data frame with <code>group_by()</code> and perform group operations by
adding the <code>summarize()</code> function.</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="basic-base-r-and-dplyr-functions.html#cb417-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb417-2"><a href="basic-base-r-and-dplyr-functions.html#cb417-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(screen_name) <span class="sc">%&gt;%</span></span>
<span id="cb417-3"><a href="basic-base-r-and-dplyr-functions.html#cb417-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">rt_avg =</span> <span class="fu">mean</span>(retweet_count))</span></code></pre></div>
</div>
</div>
<p>Once again, you may want to combine some functions to make your output
more legible.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="basic-base-r-and-dplyr-functions.html#cb418-1" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="at">x =</span> df<span class="sc">$</span>retweet_count,</span>
<span id="cb418-2"><a href="basic-base-r-and-dplyr-functions.html#cb418-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">by =</span> <span class="fu">list</span>(<span class="at">screen_name=</span>df<span class="sc">$</span>screen_name),</span>
<span id="cb418-3"><a href="basic-base-r-and-dplyr-functions.html#cb418-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">FUN =</span> mean)</span>
<span id="cb418-4"><a href="basic-base-r-and-dplyr-functions.html#cb418-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(out[<span class="fu">order</span>(out<span class="sc">$</span>x, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ], </span>
<span id="cb418-5"><a href="basic-base-r-and-dplyr-functions.html#cb418-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>        screen_name        x
102      TheEisaAli 4909.646
43         EmmaDaly 4481.640
36       DCrising21 2916.490
97  San_Patricio_BN 1581.717
74      MikeyKayNYC 1506.260</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="basic-base-r-and-dplyr-functions.html#cb420-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb420-2"><a href="basic-base-r-and-dplyr-functions.html#cb420-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(screen_name) <span class="sc">%&gt;%</span></span>
<span id="cb420-3"><a href="basic-base-r-and-dplyr-functions.html#cb420-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">rt_avg =</span> <span class="fu">mean</span>(retweet_count)) <span class="sc">%&gt;%</span></span>
<span id="cb420-4"><a href="basic-base-r-and-dplyr-functions.html#cb420-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(rt_avg)) <span class="sc">%&gt;%</span></span>
<span id="cb420-5"><a href="basic-base-r-and-dplyr-functions.html#cb420-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 2
  screen_name     rt_avg
  &lt;chr&gt;            &lt;dbl&gt;
1 TheEisaAli       4910.
2 EmmaDaly         4482.
3 DCrising21       2916.
4 San_Patricio_BN  1582.
5 MikeyKayNYC      1506.</code></pre>
</div>
</div>
</div>
</div>
<div id="combining-data" class="section level2" number="8.10">
<h2><span class="header-section-number">8.10</span> Combining Data</h2>
<p>Up to this point, we have only covered single table functions. However,
when data arrives in many pieces you may need to combine these to
complete your analysis.</p>
<p>Here we will bring a second data set, which contains social network
analysis metrics for each user account listed in the initial data set.</p>
<p>Once again, you can read the new data set with base R or <strong>readr</strong>.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="basic-base-r-and-dplyr-functions.html#cb422-1" aria-hidden="true" tabindex="-1"></a>sna_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/SNA_Stats.csv&quot;</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="basic-base-r-and-dplyr-functions.html#cb423-1" aria-hidden="true" tabindex="-1"></a>sna_tb <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;data/SNA_Stats.csv&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>Inspect both data sets:</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="basic-base-r-and-dplyr-functions.html#cb424-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sna_df)</span></code></pre></div>
<pre><code>[1] 4146    7</code></pre>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="basic-base-r-and-dplyr-functions.html#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sna_df)</span></code></pre></div>
<pre><code>[1] &quot;screen_name&quot;                &quot;componentnumber&quot;           
[3] &quot;Eccentricity&quot;               &quot;closnesscentrality&quot;        
[5] &quot;harmonicclosnesscentrality&quot; &quot;betweenesscentrality&quot;      
[7] &quot;modularity_class&quot;          </code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="basic-base-r-and-dplyr-functions.html#cb428-1" aria-hidden="true" tabindex="-1"></a>sna_tb <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span></code></pre></div>
<pre><code>[1] &quot;[4,146 x 7]&quot;</code></pre>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="basic-base-r-and-dplyr-functions.html#cb430-1" aria-hidden="true" tabindex="-1"></a>sna_tb <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code></pre></div>
<pre><code>[1] &quot;screen_name&quot;                &quot;componentnumber&quot;           
[3] &quot;Eccentricity&quot;               &quot;closnesscentrality&quot;        
[5] &quot;harmonicclosnesscentrality&quot; &quot;betweenesscentrality&quot;      
[7] &quot;modularity_class&quot;          </code></pre>
</div>
</div>
<div class="infobox">
<p>In order to connect the tables, a pair of variables called <em>keys</em> are
required. One way to identify keys, is to seek for identically named
variables in both data sets. This may not always be viable if the keys
are named differently in each data set.</p>
<p>Matching data frame names can be accomplished as follows:</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="basic-base-r-and-dplyr-functions.html#cb432-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(<span class="fu">names</span>(df), <span class="fu">names</span>(sna_df))</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="basic-base-r-and-dplyr-functions.html#cb433-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tb) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">intersect</span>(<span class="fu">names</span>(sna_df))</span></code></pre></div>
</div>
</div>
</div>
<div id="left-join" class="section level3" number="8.10.1">
<h3><span class="header-section-number">8.10.1</span> Left Join</h3>
<p>What you see below is a join that retains all rows from the first table.</p>
<div class="row">
<div class="lcolumn-50">
<p>Use <code>merge()</code> to join. Note that <code>all.x = TRUE</code> tells R to keep all
observations from the first table.</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="basic-base-r-and-dplyr-functions.html#cb434-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(df, sna_df, </span>
<span id="cb434-2"><a href="basic-base-r-and-dplyr-functions.html#cb434-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb434-3"><a href="basic-base-r-and-dplyr-functions.html#cb434-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>The <code>left_join()</code> function retains all rows from the <code>tb</code> data frame,
while adding data from <code>sna_tb</code>.</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="basic-base-r-and-dplyr-functions.html#cb435-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb435-2"><a href="basic-base-r-and-dplyr-functions.html#cb435-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(sna_tb,</span>
<span id="cb435-3"><a href="basic-base-r-and-dplyr-functions.html#cb435-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>Take a look at the dimensions of the output.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="basic-base-r-and-dplyr-functions.html#cb436-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(</span>
<span id="cb436-2"><a href="basic-base-r-and-dplyr-functions.html#cb436-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge</span>(df, sna_df, </span>
<span id="cb436-3"><a href="basic-base-r-and-dplyr-functions.html#cb436-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb436-4"><a href="basic-base-r-and-dplyr-functions.html#cb436-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">all.x =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>[1] 10542   100</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="basic-base-r-and-dplyr-functions.html#cb438-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb438-2"><a href="basic-base-r-and-dplyr-functions.html#cb438-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(sna_tb,</span>
<span id="cb438-3"><a href="basic-base-r-and-dplyr-functions.html#cb438-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb438-4"><a href="basic-base-r-and-dplyr-functions.html#cb438-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span></code></pre></div>
<pre><code>[1] &quot;[10,542 x 97]&quot;</code></pre>
</div>
</div>
</div>
<div id="right-join" class="section level3" number="8.10.2">
<h3><span class="header-section-number">8.10.2</span> Right Join</h3>
<p>A right join retains all rows from the second table.</p>
<div class="row">
<div class="lcolumn-50">
<p>Use <code>merge()</code> to join. Note that <code>all.y = TRUE</code> tells R to keep all
observations from the second table.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="basic-base-r-and-dplyr-functions.html#cb440-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(df, sna_df,</span>
<span id="cb440-2"><a href="basic-base-r-and-dplyr-functions.html#cb440-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb440-3"><a href="basic-base-r-and-dplyr-functions.html#cb440-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">all.y =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>The <code>right_join()</code> function retains all rows from the <code>sna_tb</code> data
frame, while adding data from <code>tb</code>.</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="basic-base-r-and-dplyr-functions.html#cb441-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb441-2"><a href="basic-base-r-and-dplyr-functions.html#cb441-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">right_join</span>(sna_tb, </span>
<span id="cb441-3"><a href="basic-base-r-and-dplyr-functions.html#cb441-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>Take a look at the dimensions of the output.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="basic-base-r-and-dplyr-functions.html#cb442-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(</span>
<span id="cb442-2"><a href="basic-base-r-and-dplyr-functions.html#cb442-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge</span>(df, sna_df,</span>
<span id="cb442-3"><a href="basic-base-r-and-dplyr-functions.html#cb442-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb442-4"><a href="basic-base-r-and-dplyr-functions.html#cb442-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">all.y =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>[1] 14065   100</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="basic-base-r-and-dplyr-functions.html#cb444-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb444-2"><a href="basic-base-r-and-dplyr-functions.html#cb444-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">right_join</span>(sna_tb, </span>
<span id="cb444-3"><a href="basic-base-r-and-dplyr-functions.html#cb444-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb444-4"><a href="basic-base-r-and-dplyr-functions.html#cb444-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span></code></pre></div>
<pre><code>[1] &quot;[14,065 x 97]&quot;</code></pre>
</div>
</div>
</div>
<div id="inner-join" class="section level3" number="8.10.3">
<h3><span class="header-section-number">8.10.3</span> Inner Join</h3>
<p>An inner join retain rows with matches in both tables. <code>SNA_Stats.csv</code>,
for example, may not include isolates so we would expect fewer results
after comparing dimensions.</p>
<div class="row">
<div class="lcolumn-50">
<p>Use the <code>merge()</code> function to inner join.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="basic-base-r-and-dplyr-functions.html#cb446-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(df, sna_df,</span>
<span id="cb446-2"><a href="basic-base-r-and-dplyr-functions.html#cb446-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p><code>inner_join()</code> merges based on <code>screen_name</code>.</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="basic-base-r-and-dplyr-functions.html#cb447-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb447-2"><a href="basic-base-r-and-dplyr-functions.html#cb447-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(sna_tb, <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>Take a look at the dimensions of the output.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="basic-base-r-and-dplyr-functions.html#cb448-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(</span>
<span id="cb448-2"><a href="basic-base-r-and-dplyr-functions.html#cb448-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge</span>(df, sna_df,</span>
<span id="cb448-3"><a href="basic-base-r-and-dplyr-functions.html#cb448-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>))</span></code></pre></div>
<pre><code>[1] 10027   100</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="basic-base-r-and-dplyr-functions.html#cb450-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb450-2"><a href="basic-base-r-and-dplyr-functions.html#cb450-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(sna_tb, <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb450-3"><a href="basic-base-r-and-dplyr-functions.html#cb450-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span></code></pre></div>
<pre><code>[1] &quot;[10,027 x 97]&quot;</code></pre>
</div>
</div>
</div>
<div id="full-join" class="section level3" number="8.10.4">
<h3><span class="header-section-number">8.10.4</span> Full Join</h3>
<p>A full join retains all rows in both data sets, regardless of matches.</p>
<div class="row">
<div class="lcolumn-50">
<p>Use the <code>merge()</code> function to full join. Note the <code>all = TRUE</code> argument.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="basic-base-r-and-dplyr-functions.html#cb452-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(df, sna_df,</span>
<span id="cb452-2"><a href="basic-base-r-and-dplyr-functions.html#cb452-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb452-3"><a href="basic-base-r-and-dplyr-functions.html#cb452-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<p>The <code>full_join()</code> function will merge based on shared <code>screen_name</code>.</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="basic-base-r-and-dplyr-functions.html#cb453-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb453-2"><a href="basic-base-r-and-dplyr-functions.html#cb453-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">full_join</span>(sna_tb,</span>
<span id="cb453-3"><a href="basic-base-r-and-dplyr-functions.html#cb453-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>)</span></code></pre></div>
</div>
</div>
<p>Take a look at the dimensions of the output.</p>
<div class="row">
<div class="lcolumn-50">
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="basic-base-r-and-dplyr-functions.html#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(</span>
<span id="cb454-2"><a href="basic-base-r-and-dplyr-functions.html#cb454-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge</span>(df, sna_df,</span>
<span id="cb454-3"><a href="basic-base-r-and-dplyr-functions.html#cb454-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>,</span>
<span id="cb454-4"><a href="basic-base-r-and-dplyr-functions.html#cb454-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">all =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>[1] 14580   100</code></pre>
</div>
<div class="col">
<p>  <!-- an empty Div (with a white space), serving as
a column separator for tex --></p>
</div>
<div class="rcolumn-50">
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="basic-base-r-and-dplyr-functions.html#cb456-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb456-2"><a href="basic-base-r-and-dplyr-functions.html#cb456-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">full_join</span>(sna_tb,</span>
<span id="cb456-3"><a href="basic-base-r-and-dplyr-functions.html#cb456-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">by =</span> <span class="st">&quot;screen_name&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb456-4"><a href="basic-base-r-and-dplyr-functions.html#cb456-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">dim_desc</span>()</span></code></pre></div>
<pre><code>[1] &quot;[14,580 x 97]&quot;</code></pre>
</div>
</div>
</div>
</div>
<div id="piping-multiple-variables" class="section level2" number="8.11">
<h2><span class="header-section-number">8.11</span> Piping Multiple Variables</h2>
<p>As you can see, the <code>%&gt;%</code> operator is a great way to execute multiple
actions in a few lines of code. This last example is meant to show how
much can be done by chaining multiple functions with <code>%&gt;%</code>. For example,
say we wanted to identify the most retweeted users in our original data
set. To do so, we will have to group rows by <code>screen_name</code> using
<code>group_by()</code>, then add the number of retweets per account, <code>filter()</code> by
the average number of retweets (n = 245), <code>arrange()</code> the total, and
finally rename the variables.</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="basic-base-r-and-dplyr-functions.html#cb458-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb458-2"><a href="basic-base-r-and-dplyr-functions.html#cb458-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(screen_name) <span class="sc">%&gt;%</span></span>
<span id="cb458-3"><a href="basic-base-r-and-dplyr-functions.html#cb458-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">retweet_total =</span> <span class="fu">sum</span>(retweet_count)) <span class="sc">%&gt;%</span></span>
<span id="cb458-4"><a href="basic-base-r-and-dplyr-functions.html#cb458-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_total <span class="sc">&gt;=</span> <span class="dv">245</span>) <span class="sc">%&gt;%</span></span>
<span id="cb458-5"><a href="basic-base-r-and-dplyr-functions.html#cb458-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(retweet_total)) <span class="sc">%&gt;%</span></span>
<span id="cb458-6"><a href="basic-base-r-and-dplyr-functions.html#cb458-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Screen_Name =</span> screen_name,</span>
<span id="cb458-7"><a href="basic-base-r-and-dplyr-functions.html#cb458-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">N_Retweets =</span> retweet_total)</span></code></pre></div>
<pre><code># A tibble: 89 x 2
   Screen_Name     N_Retweets
   &lt;chr&gt;                &lt;dbl&gt;
 1 TheEisaAli          486055
 2 EmmaDaly            448164
 3 DCrising21          291649
 4 MikeyKayNYC         150626
 5 realsohelbahjat     145546
 6 San_Patricio_BN     145518
 7 m_al_asiri           81549
 8 amnesty              80147
 9 Protectthenhs        72937
10 YouTube              62145
# ... with 79 more rows</code></pre>
<p>We can clean up the output to only present the top accounts by adding
<strong>dplyr</strong>’s <code>top_n()</code> function.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="basic-base-r-and-dplyr-functions.html#cb460-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span></span>
<span id="cb460-2"><a href="basic-base-r-and-dplyr-functions.html#cb460-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(screen_name) <span class="sc">%&gt;%</span></span>
<span id="cb460-3"><a href="basic-base-r-and-dplyr-functions.html#cb460-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">retweet_total =</span> <span class="fu">sum</span>(retweet_count)) <span class="sc">%&gt;%</span></span>
<span id="cb460-4"><a href="basic-base-r-and-dplyr-functions.html#cb460-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(retweet_total <span class="sc">&gt;=</span> <span class="dv">245</span>) <span class="sc">%&gt;%</span></span>
<span id="cb460-5"><a href="basic-base-r-and-dplyr-functions.html#cb460-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(retweet_total)) <span class="sc">%&gt;%</span></span>
<span id="cb460-6"><a href="basic-base-r-and-dplyr-functions.html#cb460-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Screen_Name =</span> screen_name,</span>
<span id="cb460-7"><a href="basic-base-r-and-dplyr-functions.html#cb460-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">N_Retweets =</span> retweet_total) <span class="sc">%&gt;%</span></span>
<span id="cb460-8"><a href="basic-base-r-and-dplyr-functions.html#cb460-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">top_n</span>(<span class="dv">15</span>)</span></code></pre></div>
<pre><code># A tibble: 15 x 2
   Screen_Name     N_Retweets
   &lt;chr&gt;                &lt;dbl&gt;
 1 TheEisaAli          486055
 2 EmmaDaly            448164
 3 DCrising21          291649
 4 MikeyKayNYC         150626
 5 realsohelbahjat     145546
 6 San_Patricio_BN     145518
 7 m_al_asiri           81549
 8 amnesty              80147
 9 Protectthenhs        72937
10 YouTube              62145
11 nafarrao             44631
12 SulomeAnderson       43000
13 IraqiSecurity        38478
14 USEmbBaghdad         28770
15 The_H16              27462</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-base-r-and-tidyverse-data-manipulation-cheat-sheet.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="key-sna-functions-and-visualization-cheat-sheet.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cjcallag/r4ds/edit/editing/base_v_tidyverse_comparison.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"font_settings": {
"family": "sans",
"theme": "white",
"size": 2
},
"info": true,
"toolbar": {
"position": "fixed"
}
});
});
</script>

</body>

</html>
