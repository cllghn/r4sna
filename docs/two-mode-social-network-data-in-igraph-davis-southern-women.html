<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Two-mode Social Network Data in igraph: Davis Southern Women | R for Social Network Analysis</title>
  <meta name="description" content="TBD." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Two-mode Social Network Data in igraph: Davis Southern Women | R for Social Network Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="TBD." />
  <meta name="github-repo" content="cjcallag/r4sna" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Two-mode Social Network Data in igraph: Davis Southern Women | R for Social Network Analysis" />
  
  <meta name="twitter:description" content="TBD." />
  

<meta name="author" content="CORE Lab" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="one-mode-social-network-data-in-igraph-koschade-network.html"/>
<link rel="next" href="introduction-1.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="my_style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Social Network Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I Setting Up</b></span></li>
<li class="chapter" data-level="2" data-path="setting-up-r.html"><a href="setting-up-r.html"><i class="fa fa-check"></i><b>2</b> Setting Up R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setting-up-r.html"><a href="setting-up-r.html#basics-of-r-coding-in-rstudio"><i class="fa fa-check"></i><b>2.1</b> Basics of R Coding in RStudio</a></li>
</ul></li>
<li class="part"><span><b>II Importing and Visualizing Network Data</b></span></li>
<li class="chapter" data-level="3" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><i class="fa fa-check"></i><b>3</b> Importing and Visualizing One- and Two-Mode Social Network Data in <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="3.1" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#setup"><i class="fa fa-check"></i><b>3.1</b> Setup</a></li>
<li class="chapter" data-level="3.2" data-path="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html"><a href="importing-and-visualizing-one--and-two-mode-social-network-data-in-igraph.html#load-libraries"><i class="fa fa-check"></i><b>3.2</b> Load Libraries</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html"><i class="fa fa-check"></i><b>4</b> One-mode Social Network Data in <strong>igraph</strong>: Koschade Network</a>
<ul>
<li class="chapter" data-level="4.1" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#importing-one-mode-social-network-data"><i class="fa fa-check"></i><b>4.1</b> Importing One-Mode Social Network Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#option-1-importing-one-mode-network-data-in-matrix-format"><i class="fa fa-check"></i><b>4.1.1</b> Option 1: Importing One-Mode Network Data in Matrix Format</a></li>
<li class="chapter" data-level="4.1.2" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#option-2-importing-one-mode-network-data-as-an-edge-list"><i class="fa fa-check"></i><b>4.1.2</b> Option 2: Importing One-Mode Network Data as an Edge List</a></li>
<li class="chapter" data-level="4.1.3" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#option-3-importing-one-mode-network-data-in-pajek-format"><i class="fa fa-check"></i><b>4.1.3</b> Option 3: Importing One-Mode Network Data in Pajek Format</a></li>
<li class="chapter" data-level="4.1.4" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#option-4-importing-one-mode-network-data-into-statnet-format-using-intergraph"><i class="fa fa-check"></i><b>4.1.4</b> Option 4: Importing One-Mode Network Data into <strong>statnet</strong> Format using <strong>intergraph</strong></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#plotting-visualizing-the-koschade-network"><i class="fa fa-check"></i><b>4.2</b> Plotting (Visualizing) the Koschade Network</a></li>
<li class="chapter" data-level="4.3" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#saving-network-plots-e.g.-pdf-jpeg-png-tiff"><i class="fa fa-check"></i><b>4.3</b> Saving Network Plots (e.g., pdf, jpeg, png, tiff)</a></li>
<li class="chapter" data-level="4.4" data-path="one-mode-social-network-data-in-igraph-koschade-network.html"><a href="one-mode-social-network-data-in-igraph-koschade-network.html#saving-network-data"><i class="fa fa-check"></i><b>4.4</b> Saving Network Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html"><i class="fa fa-check"></i><b>5</b> Two-mode Social Network Data in <strong>igraph</strong>: Davis Southern Women</a>
<ul>
<li class="chapter" data-level="5.1" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#importing-two-mode-social-network-data-into-igraph"><i class="fa fa-check"></i><b>5.1</b> Importing Two-Mode Social Network Data into <code>igraph</code></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#option-1-importing-two-mode-social-network-data-in-matrix-format"><i class="fa fa-check"></i><b>5.1.1</b> Option 1: Importing Two-Mode Social Network Data in Matrix Format</a></li>
<li class="chapter" data-level="5.1.2" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#option-2-importing-two-mode-social-network-data-as-an-edge-list"><i class="fa fa-check"></i><b>5.1.2</b> Option 2: Importing Two-Mode Social Network Data as an Edge List</a></li>
<li class="chapter" data-level="5.1.3" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#option-3-importing-two-mode-social-network-data-in-pajek-format"><i class="fa fa-check"></i><b>5.1.3</b> Option 3: Importing Two-Mode Social Network Data in Pajek Format</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#plotting-two-mode-social-network-data-in-igraph"><i class="fa fa-check"></i><b>5.2</b> Plotting Two-Mode Social Network Data in <strong>igraph</strong></a></li>
<li class="chapter" data-level="5.3" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#projecting-folding-two-mode-networks-into-one-mode-networks-in-igraph"><i class="fa fa-check"></i><b>5.3</b> Projecting (Folding) Two-Mode Networks into One-Mode Networks in <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#multiplying-matrices"><i class="fa fa-check"></i><b>5.3.1</b> Multiplying Matrices</a></li>
<li class="chapter" data-level="5.3.2" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#projecting-two-mode-igraph-graphs"><i class="fa fa-check"></i><b>5.3.2</b> Projecting Two-Mode <strong>igraph</strong> Graphs</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#plotting-projected-one-mode-networks"><i class="fa fa-check"></i><b>5.4</b> Plotting Projected One-Mode Networks</a></li>
<li class="chapter" data-level="5.5" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#saving-network-plots"><i class="fa fa-check"></i><b>5.5</b> Saving Network Plots</a></li>
<li class="chapter" data-level="5.6" data-path="two-mode-social-network-data-in-igraph-davis-southern-women.html"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#saving-network-data-1"><i class="fa fa-check"></i><b>5.6</b> Saving Network Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>6</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-1.html"><a href="introduction-1.html#setup-1"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="introduction-1.html"><a href="introduction-1.html#load-libraries-1"><i class="fa fa-check"></i><b>6.2</b> Load Libraries</a></li>
<li class="chapter" data-level="6.3" data-path="introduction-1.html"><a href="introduction-1.html#importing-one-mode-social-network-data-1"><i class="fa fa-check"></i><b>6.3</b> Importing One-Mode Social Network Data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="introduction-1.html"><a href="introduction-1.html#option-1-importing-one-mode-social-network-data-in-matrix-format"><i class="fa fa-check"></i><b>6.3.1</b> Option 1: Importing One-Mode Social Network Data in Matrix Format</a></li>
<li class="chapter" data-level="6.3.2" data-path="introduction-1.html"><a href="introduction-1.html#worked-through-here"><i class="fa fa-check"></i><b>6.3.2</b> Worked through here</a></li>
<li class="chapter" data-level="6.3.3" data-path="introduction-1.html"><a href="introduction-1.html#option-2-importing-one-mode-social-network-data-as-an-edge-list"><i class="fa fa-check"></i><b>6.3.3</b> Option 2: Importing One-Mode Social Network Data as an Edge List</a></li>
<li class="chapter" data-level="6.3.4" data-path="introduction-1.html"><a href="introduction-1.html#option-3-importing-one-mode-social-network-data-in-pajek-format"><i class="fa fa-check"></i><b>6.3.4</b> Option 3: Importing One-Mode Social Network Data in Pajek Format</a></li>
<li class="chapter" data-level="6.3.5" data-path="introduction-1.html"><a href="introduction-1.html#option-4-importing-one-mode-social-network-data-in-igraph-format-using-intergraph"><i class="fa fa-check"></i><b>6.3.5</b> Option 4: Importing One-Mode Social Network Data in <strong>igraph</strong> Format using <strong>intergraph</strong></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="introduction-1.html"><a href="introduction-1.html#plotting-visualizing-the-koschade-network-1"><i class="fa fa-check"></i><b>6.4</b> Plotting (Visualizing) the Koschade Network</a></li>
<li class="chapter" data-level="6.5" data-path="introduction-1.html"><a href="introduction-1.html#saving-network-plots-e.g.-pdf-jpeg-png-tiff-1"><i class="fa fa-check"></i><b>6.5</b> Saving Network Plots (e.g., pdf, jpeg, png, tiff)</a></li>
<li class="chapter" data-level="6.6" data-path="introduction-1.html"><a href="introduction-1.html#saving-network-data-2"><i class="fa fa-check"></i><b>6.6</b> Saving Network Data</a></li>
<li class="chapter" data-level="6.7" data-path="introduction-1.html"><a href="introduction-1.html#importing-two-mode-network-data"><i class="fa fa-check"></i><b>6.7</b> Importing Two-Mode Network Data</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="introduction-1.html"><a href="introduction-1.html#option-1-importing-two-mode-network-data-in-matrix-format"><i class="fa fa-check"></i><b>6.7.1</b> Option 1: Importing Two-Mode Network Data in Matrix Format</a></li>
<li class="chapter" data-level="6.7.2" data-path="introduction-1.html"><a href="introduction-1.html#option-2-importing-two-mode-network-data-as-an-edge-list"><i class="fa fa-check"></i><b>6.7.2</b> Option 2: Importing Two-Mode Network Data as an Edge List</a></li>
<li class="chapter" data-level="6.7.3" data-path="introduction-1.html"><a href="introduction-1.html#option-3-importing-two-mode-social-network-data-in-pajek-format-1"><i class="fa fa-check"></i><b>6.7.3</b> Option 3: Importing Two-Mode Social Network Data in Pajek Format</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="introduction-1.html"><a href="introduction-1.html#plotting-two-mode-networks"><i class="fa fa-check"></i><b>6.8</b> Plotting Two-Mode Networks</a></li>
<li class="chapter" data-level="6.9" data-path="introduction-1.html"><a href="introduction-1.html#projecting-folding-two-mode-networks-into-one-mode-networks-in-statnet."><i class="fa fa-check"></i><b>6.9</b> Projecting (Folding) Two-Mode Networks into One-Mode Networks in <strong>statnet</strong>.</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="introduction-1.html"><a href="introduction-1.html#multiplying-matrices-1"><i class="fa fa-check"></i><b>6.9.1</b> Multiplying Matrices</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="introduction-1.html"><a href="introduction-1.html#plotting-projected-one-mode-networks-1"><i class="fa fa-check"></i><b>6.10</b> Plotting Projected One-Mode Networks</a></li>
<li class="chapter" data-level="6.11" data-path="introduction-1.html"><a href="introduction-1.html#saving-network-plots-1"><i class="fa fa-check"></i><b>6.11</b> Saving Network Plots</a></li>
<li class="chapter" data-level="6.12" data-path="introduction-1.html"><a href="introduction-1.html#saving-network-data-3"><i class="fa fa-check"></i><b>6.12</b> Saving Network Data</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">
Published con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Social Network Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="two-mode-social-network-data-in-igraph-davis-southern-women" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Two-mode Social Network Data in <strong>igraph</strong>: Davis Southern Women</h1>
<p>We will now switch to another data set to import, manipulate, and visualize two-mode network data in <strong>igraph</strong>. The data that we will use here is what is known as Davis’ Southern Club Women. Davis and her colleagues recorded the observed attendance of 18 Southern women at 14 different social events.</p>
<div id="importing-two-mode-social-network-data-into-igraph" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Importing Two-Mode Social Network Data into <code>igraph</code></h2>
<div id="option-1-importing-two-mode-social-network-data-in-matrix-format" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Option 1: Importing Two-Mode Social Network Data in Matrix Format</h3>
<p>Once again, begin by reading the data from a CSV using <code>read.csv()</code>. Then transform the <code>data.frame</code> to a <code>matrix</code>, which is passed along to the <code>graph_from_incidence_matrix()</code> <strong>igraph</strong> function. This final command, creates a bipartite graph from an incidence matrix, the arguments included below are optional, but needed in this circumstance.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-1" aria-hidden="true" tabindex="-1"></a>davis1_ig <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/davis.csv&quot;</span>,</span>
<span id="cb42-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb42-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb42-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">check.names =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">graph_from_incidence_matrix</span>(<span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb42-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb42-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">weighted =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p>Now look at the graph printout:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb43-1" aria-hidden="true" tabindex="-1"></a>davis1_ig</span></code></pre></div>
<pre><code>## IGRAPH 2d39635 UN-B 32 89 -- 
## + attr: type (v/l), name (v/c)
## + edges from 2d39635 (vertex names):
##  [1] EVELYN   --E1 EVELYN   --E2 EVELYN   --E3 EVELYN   --E4 EVELYN   --E5
##  [6] EVELYN   --E6 EVELYN   --E8 EVELYN   --E9 LAURA    --E1 LAURA    --E2
## [11] LAURA    --E3 LAURA    --E5 LAURA    --E6 LAURA    --E7 LAURA    --E8
## [16] THERESA  --E2 THERESA  --E3 THERESA  --E4 THERESA  --E5 THERESA  --E6
## [21] THERESA  --E7 THERESA  --E8 THERESA  --E9 BRENDA   --E1 BRENDA   --E3
## [26] BRENDA   --E4 BRENDA   --E5 BRENDA   --E6 BRENDA   --E7 BRENDA   --E8
## [31] CHARLOTTE--E3 CHARLOTTE--E4 CHARLOTTE--E5 CHARLOTTE--E7 FRANCES  --E3
## [36] FRANCES  --E5 FRANCES  --E6 FRANCES  --E8 ELEANOR  --E5 ELEANOR  --E6
## + ... omitted several edges</code></pre>
<p>Note the <code>B</code> letter in the four letter code string that describes the network qualities. Since the network was created using a function designed to create bipartite graphs, this feature is automatically added.</p>
</div>
<div id="option-2-importing-two-mode-social-network-data-as-an-edge-list" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Option 2: Importing Two-Mode Social Network Data as an Edge List</h3>
<div class="infobox">
<p><strong>Note</strong>: This section is adapted from code written by Phil Murphy and Brendan Knapp.</p>
</div>
<p>You may also begin creating your analysis of two-mode networks from an edge list. To do so, leverage the <code>read.csv()</code> function to ingest data. Then, pass the edge list to <strong>igraph</strong>’s <code>graph_from_data_frame()</code> function.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb45-1" aria-hidden="true" tabindex="-1"></a>davis2_ig <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/davisedge.csv&quot;</span>,</span>
<span id="cb45-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb45-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">header =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">graph_from_data_frame</span>(<span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Now look at the graph printout:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb46-1" aria-hidden="true" tabindex="-1"></a>davis2_ig</span></code></pre></div>
<pre><code>## IGRAPH 2d40def UN-- 32 89 -- 
## + attr: name (v/c), Weight (e/n)
## + edges from 2d40def (vertex names):
##  [1] EVELYN   --E1 EVELYN   --E2 EVELYN   --E3 EVELYN   --E4 EVELYN   --E5
##  [6] EVELYN   --E6 EVELYN   --E8 EVELYN   --E9 LAURA    --E1 LAURA    --E2
## [11] LAURA    --E3 LAURA    --E5 LAURA    --E6 LAURA    --E7 LAURA    --E8
## [16] THERESA  --E2 THERESA  --E3 THERESA  --E4 THERESA  --E5 THERESA  --E6
## [21] THERESA  --E7 THERESA  --E8 THERESA  --E9 BRENDA   --E1 BRENDA   --E3
## [26] BRENDA   --E4 BRENDA   --E5 BRENDA   --E6 BRENDA   --E7 BRENDA   --E8
## [31] CHARLOTTE--E3 CHARLOTTE--E4 CHARLOTTE--E5 CHARLOTTE--E7 FRANCES  --E3
## [36] FRANCES  --E5 FRANCES  --E6 FRANCES  --E8 ELEANOR  --E5 ELEANOR  --E6
## + ... omitted several edges</code></pre>
<p>This time, the <code>B</code> letter in the four letter code is not present. If you need further evidence that <code>davis2_ig</code> is not a bipartite graph, use the <code>is_bipartite()</code> function, which checks whether the graph is two-mode or not by checking if the nodes in the graph have an attribute called <code>type</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_bipartite</span>(davis2_ig)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>At this point, the network is not a two-mode (bipartite) network. To tell <strong>igraph</strong> that it is, we can begin by using the <code>bipartite.mapping()</code> function, which can tell us whether the network meets the criteria of a two-mode network. Those criteria are that there are (1) two sets of nodes in the network, and (2) there are only ties between node sets and not within them. If the network meets the criteria, <strong>igraph</strong> will identify which nodes belong in each mode.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bipartite_mapping</span>(davis2_ig)</span></code></pre></div>
<pre><code>## $res
## [1] TRUE
## 
## $type
##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
## [13] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
## [25]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<p>The function returns two responses. The first, denotes whether the network meets the criteria of a two-mode network (<code>$res</code>). The second, (<code>$type</code>) returns a logical vector denoting the mode to which each node belongs to. Thus, we can assign the <code>type</code> vector to the node attributes in the <code>davis2_ig</code>.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(davis2_ig)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">bipartite_mapping</span>(davis2_ig)[[<span class="st">&quot;type&quot;</span>]]</span></code></pre></div>
<p>Once again, take a look at the printout:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb53-1" aria-hidden="true" tabindex="-1"></a>davis2_ig</span></code></pre></div>
<pre><code>## IGRAPH 2d40def UN-B 32 89 -- 
## + attr: name (v/c), type (v/l), Weight (e/n)
## + edges from 2d40def (vertex names):
##  [1] EVELYN   --E1 EVELYN   --E2 EVELYN   --E3 EVELYN   --E4 EVELYN   --E5
##  [6] EVELYN   --E6 EVELYN   --E8 EVELYN   --E9 LAURA    --E1 LAURA    --E2
## [11] LAURA    --E3 LAURA    --E5 LAURA    --E6 LAURA    --E7 LAURA    --E8
## [16] THERESA  --E2 THERESA  --E3 THERESA  --E4 THERESA  --E5 THERESA  --E6
## [21] THERESA  --E7 THERESA  --E8 THERESA  --E9 BRENDA   --E1 BRENDA   --E3
## [26] BRENDA   --E4 BRENDA   --E5 BRENDA   --E6 BRENDA   --E7 BRENDA   --E8
## [31] CHARLOTTE--E3 CHARLOTTE--E4 CHARLOTTE--E5 CHARLOTTE--E7 FRANCES  --E3
## [36] FRANCES  --E5 FRANCES  --E6 FRANCES  --E8 ELEANOR  --E5 ELEANOR  --E6
## + ... omitted several edges</code></pre>
<p>Notice the <code>B</code> in the first line of the output. This tells us that <strong>igraph</strong> now recognizes the network as a bipartite/two-mode network. We can check it using a function again.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_bipartite</span>(davis2_ig)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="option-3-importing-two-mode-social-network-data-in-pajek-format" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Option 3: Importing Two-Mode Social Network Data in Pajek Format</h3>
<p>Read in the Pajek file using <strong>igraph</strong>’s <code>read.graph()</code> function.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb57-1" aria-hidden="true" tabindex="-1"></a>davis3_ig <span class="ot">&lt;-</span> <span class="fu">read.graph</span>(<span class="st">&quot;data/davis.net&quot;</span>, <span class="at">format =</span> <span class="st">&quot;pajek&quot;</span>)</span></code></pre></div>
<p>Once again, ensure that the network was read in correctly as two-mode (bipartite).</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_bipartite</span>(davis3_ig)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
</div>
<div id="plotting-two-mode-social-network-data-in-igraph" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Plotting Two-Mode Social Network Data in <strong>igraph</strong></h2>
<p>Like with one-mode data, two-mode data can be plotted using <strong>igraph</strong>. Once again, we can use the <code>plot()</code> function to graph <code>igraph</code> objects.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig)</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>Once again, we can store the coordinates as a separate object and use it to compare networks. Here we will plot networks side-by-side using the <code>par()</code> function. Additionally, we can make some aesthetic improvements through adding arguments (e.g., <code>vertex.label.cex</code>, etc.).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set graph parameters to 1 row and 3 columns</span></span>
<span id="cb61-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb61-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Store node coordinates</span></span>
<span id="cb61-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-4" aria-hidden="true" tabindex="-1"></a>coordfr <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(davis1_ig)</span>
<span id="cb61-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graphs</span></span>
<span id="cb61-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig,</span>
<span id="cb61-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb61-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb61-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb61-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis2_ig,</span>
<span id="cb61-12"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb61-13"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex  =</span> <span class="fl">0.6</span>,</span>
<span id="cb61-14"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color=</span><span class="st">&quot;black&quot;</span>)</span>
<span id="cb61-15"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis3_ig,</span>
<span id="cb61-17"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb61-18"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex  =</span> <span class="fl">0.6</span>,</span>
<span id="cb61-19"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb61-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-42-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Now, let’s make a few adjustments to the graph; for instance, we can change the node colors to “light blue” and “yellow” to reflect node types. First, we need to determine what nodes belong to which mode.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb62-1" aria-hidden="true" tabindex="-1"></a>davis1_ig <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pull node list, which should include a &#39;type&#39; node attribute</span></span>
<span id="cb62-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get.data.frame</span>(<span class="st">&quot;vertices&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cross tabulate the &#39;name&#39; and &#39;type&#39; variables</span></span>
<span id="cb62-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>()</span></code></pre></div>
<pre><code>##        name
## type    BRENDA CHARLOTTE DOROTHY E1 E10 E11 E12 E13 E14 E2 E3 E4 E5 E6 E7 E8 E9
##   FALSE      1         1       1  0   0   0   0   0   0  0  0  0  0  0  0  0  0
##   TRUE       0         0       0  1   1   1   1   1   1  1  1  1  1  1  1  1  1
##        name
## type    ELEANOR EVELYN FLORA FRANCES HELEN KATHERINE LAURA MYRNA NORA OLIVIA
##   FALSE       1      1     1       1     1         1     1     1    1      1
##   TRUE        0      0     0       0     0         0     0     0    0      0
##        name
## type    PEARL RUTH SYLVIA THERESA VERNE
##   FALSE     1    1      1       1     1
##   TRUE      0    0      0       0     0</code></pre>
<p>The output indicates that the women are assigned to the <code>FALSE</code> category, while the events fall under <code>TRUE</code>. Thus, we can assign colors using a conditional statement (e.g., <code>ifelse()</code>).</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig,</span>
<span id="cb64-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb64-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-3" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Get the vertex attribute vector, if the attribute is TRUE assign &#39;yellow&#39;</span></span>
<span id="cb64-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-4" aria-hidden="true" tabindex="-1"></a>     <span class="co"># as the vertex color. Otherwise, assign &#39;lightblue&#39;.</span></span>
<span id="cb64-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis1_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb64-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-6" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb64-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex  =</span> <span class="fl">0.6</span>,</span>
<span id="cb64-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb64-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<p>Now, re-plot the networks with the new colors and save the coordinate while we’re at it.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set graph parameters to 1 row and 3 columns</span></span>
<span id="cb65-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb65-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graphs</span></span>
<span id="cb65-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig,</span>
<span id="cb65-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb65-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis1_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb65-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-7" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb65-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb65-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb65-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">10</span>)</span>
<span id="cb65-11"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis2_ig,</span>
<span id="cb65-13"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb65-14"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis2_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb65-15"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-15" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb65-16"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb65-17"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb65-18"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">10</span>)</span>
<span id="cb65-19"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-20"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-20" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis3_ig,</span>
<span id="cb65-21"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb65-22"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis3_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb65-23"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-23" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb65-24"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb65-25"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb65-26"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb65-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-45-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We may want to rescale nodes to reflect those with more adjacent nodes. To do so, we can use the <code>degree()</code> function to calculate a node’s degree centrality. If this measure is not familiar to you yet, don’t worry, we will expand on this topic later in the class.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(davis1_ig)</span></code></pre></div>
<pre><code>##    EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
##         8         7         8         7         4         4         4         3 
##      RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
##         4         4         4         6         7         8         5         2 
##    OLIVIA     FLORA        E1        E2        E3        E4        E5        E6 
##         2         2         3         3         6         4         8         8 
##        E7        E8        E9       E10       E11       E12       E13       E14 
##        10        14        12         5         4         6         3         3</code></pre>
<p>As you can see, the output of the <code>degree()</code> function is a named vector with a score for the number of edges a given node has. Now, let’s calculate degree centrality and then plot the graphs again but adjust the node size to reflect degree which we’ve rescaled in order to make the nodes more visible.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set graph parameters to 1 row and 3 columns</span></span>
<span id="cb68-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb68-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graphs</span></span>
<span id="cb68-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig,</span>
<span id="cb68-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb68-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis1_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb68-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-7" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb68-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb68-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb68-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis1_ig))</span>
<span id="cb68-11"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-12"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis2_ig,</span>
<span id="cb68-13"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb68-14"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis2_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb68-15"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-15" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb68-16"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb68-17"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb68-18"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis2_ig))</span>
<span id="cb68-19"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-20"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-20" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis3_ig,</span>
<span id="cb68-21"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coordfr,</span>
<span id="cb68-22"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis3_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb68-23"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-23" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb68-24"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb68-25"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb68-26"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb68-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis3_ig))</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-47-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="projecting-folding-two-mode-networks-into-one-mode-networks-in-igraph" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Projecting (Folding) Two-Mode Networks into One-Mode Networks in <strong>igraph</strong></h2>
<p>For this section, we will just work with the <code>davis1_ig</code> network object.</p>
<div id="multiplying-matrices" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Multiplying Matrices</h3>
<p>To transform the network into two one-mode networks, we first convert the two-mode <code>igraph</code> object to a <code>matrix</code>. The key function here is <code>get.incidence()</code>. Note the first command makes sure that the matrix has labels once it is transformed.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb69-1" aria-hidden="true" tabindex="-1"></a>davis1_mat <span class="ot">&lt;-</span> davis1_ig <span class="sc">%&gt;%</span></span>
<span id="cb69-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set vertex attribute &#39;id&#39; using the &#39;name&#39; attribute</span></span>
<span id="cb69-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_vertex_attr</span>(<span class="at">name =</span> <span class="st">&quot;id&quot;</span>,</span>
<span id="cb69-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb69-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">value =</span> <span class="fu">V</span>(.)<span class="sc">$</span>name) <span class="sc">%&gt;%</span> <span class="co"># The . represents davis1_ig</span></span>
<span id="cb69-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get.incidence</span>()</span></code></pre></div>
<p>View the matrix:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb70-1" aria-hidden="true" tabindex="-1"></a>davis1_mat</span></code></pre></div>
<p>Next, multiply the matrices by their transpose. To do so, we use the <code>%*%</code> operator to multiply networks and the <code>t()</code> function to transpose one matrix during the multiplication.</p>
<p>First, let’s create a one-mode matrix of women-to-women based on shared events/</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb71-1" aria-hidden="true" tabindex="-1"></a>davis_women_mat <span class="ot">&lt;-</span> davis1_mat <span class="sc">%*%</span> <span class="fu">t</span>(davis1_mat)</span></code></pre></div>
<p>Repeat the process, this time switch the order of the transposed matrix to generate an events-to-events matrix.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb72-1" aria-hidden="true" tabindex="-1"></a>davis_events_mat <span class="ot">&lt;-</span> <span class="fu">t</span>(davis1_mat) <span class="sc">%*%</span> davis1_mat</span></code></pre></div>
<p>Take a look at one or both of the matrices:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Woman-to-woman matrix</span></span>
<span id="cb73-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb73-2" aria-hidden="true" tabindex="-1"></a>davis_women_mat</span>
<span id="cb73-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Event-to-event matrix</span></span>
<span id="cb73-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb73-4" aria-hidden="true" tabindex="-1"></a>davis_events_mat</span></code></pre></div>
<p>With the matrices projected, you can now convert both to <code>igraph</code> objects using the <code>graph.adjacency()</code> function.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb74-1" aria-hidden="true" tabindex="-1"></a>davis_women_ig <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(davis_women_mat, </span>
<span id="cb74-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb74-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb74-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb74-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">weighted =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>The next step is to remove loops and multiple edges; that is acomplished using the <code>simplify()</code> function.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-1" aria-hidden="true" tabindex="-1"></a>davis_women_ig  <span class="ot">&lt;-</span> <span class="fu">simplify</span>(davis_women_ig,</span>
<span id="cb75-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">remove.multiple =</span> <span class="cn">TRUE</span>,</span>
<span id="cb75-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">remove.loops    =</span> <span class="cn">TRUE</span>, </span>
<span id="cb75-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">edge.attr.comb  =</span> sum)</span>
<span id="cb75-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb75-6" aria-hidden="true" tabindex="-1"></a>davis_women_ig</span></code></pre></div>
<pre><code>## IGRAPH 2df560e UNW- 18 139 -- 
## + attr: name (v/c), weight (e/n)
## + edges from 2df560e (vertex names):
##  [1] EVELYN --LAURA     EVELYN --THERESA   EVELYN --BRENDA    EVELYN --CHARLOTTE
##  [5] EVELYN --FRANCES   EVELYN --ELEANOR   EVELYN --PEARL     EVELYN --RUTH     
##  [9] EVELYN --VERNE     EVELYN --MYRNA     EVELYN --KATHERINE EVELYN --SYLVIA   
## [13] EVELYN --NORA      EVELYN --HELEN     EVELYN --DOROTHY   EVELYN --OLIVIA   
## [17] EVELYN --FLORA     LAURA  --THERESA   LAURA  --BRENDA    LAURA  --CHARLOTTE
## [21] LAURA  --FRANCES   LAURA  --ELEANOR   LAURA  --PEARL     LAURA  --RUTH     
## [25] LAURA  --VERNE     LAURA  --MYRNA     LAURA  --KATHERINE LAURA  --SYLVIA   
## [29] LAURA  --NORA      LAURA  --HELEN     LAURA  --DOROTHY   THERESA--BRENDA   
## + ... omitted several edges</code></pre>
<p>Keep in mind that many steps can be put into a pipeline to reduce the lines of code.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-1" aria-hidden="true" tabindex="-1"></a>davis_events_ig <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(davis_events_mat, </span>
<span id="cb77-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb77-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">weighted =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">simplify</span>(<span class="at">remove.multiple =</span> <span class="cn">TRUE</span>, <span class="at">remove.loops =</span> <span class="cn">TRUE</span>,</span>
<span id="cb77-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">edge.attr.comb =</span> sum)</span>
<span id="cb77-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb77-7" aria-hidden="true" tabindex="-1"></a>davis_events_ig</span></code></pre></div>
<pre><code>## IGRAPH 2df9f4c UNW- 14 66 -- 
## + attr: name (v/c), weight (e/n)
## + edges from 2df9f4c (vertex names):
##  [1] E1 --E2  E1 --E3  E1 --E4  E1 --E5  E1 --E6  E1 --E7  E1 --E8  E1 --E9 
##  [9] E2 --E3  E2 --E4  E2 --E5  E2 --E6  E2 --E7  E2 --E8  E2 --E9  E3 --E4 
## [17] E3 --E5  E3 --E6  E3 --E7  E3 --E8  E3 --E9  E4 --E5  E4 --E6  E4 --E7 
## [25] E4 --E8  E4 --E9  E5 --E6  E5 --E7  E5 --E8  E5 --E9  E6 --E7  E6 --E8 
## [33] E6 --E9  E6 --E10 E6 --E11 E6 --E12 E6 --E13 E6 --E14 E7 --E8  E7 --E9 
## [41] E7 --E10 E7 --E11 E7 --E12 E7 --E13 E7 --E14 E8 --E9  E8 --E10 E8 --E11
## [49] E8 --E12 E8 --E13 E8 --E14 E9 --E10 E9 --E11 E9 --E12 E9 --E13 E9 --E14
## [57] E10--E11 E10--E12 E10--E13 E10--E14 E11--E12 E11--E13 E11--E14 E12--E13
## + ... omitted several edges</code></pre>
</div>
<div id="projecting-two-mode-igraph-graphs" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Projecting Two-Mode <strong>igraph</strong> Graphs</h3>
<p>Beyond multiplying matrices, the process of transforming two-mode data to one-mode can be fully accomplished using functions from the <strong>igraph</strong> library.</p>
<p>Remember that two-mode graph objects in <strong>igraph</strong> have a <code>type</code> vertex attribute, which can be called using the <code>get.vertex.attribute()</code> and can be used (under the hood) to determine if a graph is two-mode using the <code>is_biparite()</code>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull &#39;type&#39; vertex attribute</span></span>
<span id="cb79-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get.vertex.attribute</span>(davis1_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>)</span>
<span id="cb79-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Test if it is two-mode</span></span>
<span id="cb79-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is_bipartite</span>(davis1_ig)</span></code></pre></div>
<p>If a graph is in fact two mode, we can transform it to one-mode using the <code>bipartite_projection()</code> function.</p>
<p>The events are assigned to the <code>TRUE</code> mode. As such, we can specify which mode will be extracted from the two-mode network setting the <code>which</code> argument to <code>true</code></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb80-1" aria-hidden="true" tabindex="-1"></a>davis_events_ig <span class="ot">&lt;-</span> <span class="fu">bipartite_projection</span>(davis1_ig, <span class="at">which =</span> <span class="st">&quot;true&quot;</span>)</span>
<span id="cb80-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb80-3" aria-hidden="true" tabindex="-1"></a>davis_events_ig</span></code></pre></div>
<pre><code>## IGRAPH 2e01bd2 UNW- 14 66 -- 
## + attr: name (v/c), weight (e/n)
## + edges from 2e01bd2 (vertex names):
##  [1] E1 --E2  E1 --E3  E1 --E4  E1 --E5  E1 --E6  E1 --E8  E1 --E9  E1 --E7 
##  [9] E2 --E3  E2 --E4  E2 --E5  E2 --E6  E2 --E8  E2 --E9  E2 --E7  E3 --E4 
## [17] E3 --E5  E3 --E6  E3 --E8  E3 --E9  E3 --E7  E4 --E5  E4 --E6  E4 --E8 
## [25] E4 --E9  E4 --E7  E5 --E6  E5 --E8  E5 --E9  E5 --E7  E6 --E8  E6 --E9 
## [33] E6 --E7  E6 --E10 E6 --E11 E6 --E12 E6 --E13 E6 --E14 E7 --E8  E7 --E9 
## [41] E7 --E12 E7 --E10 E7 --E13 E7 --E14 E7 --E11 E8 --E9  E8 --E12 E8 --E10
## [49] E8 --E13 E8 --E14 E8 --E11 E9 --E12 E9 --E10 E9 --E13 E9 --E14 E9 --E11
## [57] E10--E12 E10--E13 E10--E14 E10--E11 E11--E12 E11--E13 E11--E14 E12--E13
## + ... omitted several edges</code></pre>
<p>Now extract the women one-mode network setting the <code>which</code> argument to <code>false</code> in the <code>bipartite_projection()</code> function.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb82-1" aria-hidden="true" tabindex="-1"></a>davis_women_ig <span class="ot">&lt;-</span> <span class="fu">bipartite_projection</span>(davis1_ig, <span class="at">which =</span> <span class="st">&quot;false&quot;</span>)</span>
<span id="cb82-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb82-3" aria-hidden="true" tabindex="-1"></a>davis_women_ig</span></code></pre></div>
<pre><code>## IGRAPH 2e0602c UNW- 18 139 -- 
## + attr: name (v/c), weight (e/n)
## + edges from 2e0602c (vertex names):
##  [1] EVELYN --LAURA     EVELYN --BRENDA    EVELYN --THERESA   EVELYN --CHARLOTTE
##  [5] EVELYN --FRANCES   EVELYN --ELEANOR   EVELYN --RUTH      EVELYN --PEARL    
##  [9] EVELYN --NORA      EVELYN --VERNE     EVELYN --MYRNA     EVELYN --KATHERINE
## [13] EVELYN --SYLVIA    EVELYN --HELEN     EVELYN --DOROTHY   EVELYN --OLIVIA   
## [17] EVELYN --FLORA     LAURA  --BRENDA    LAURA  --THERESA   LAURA  --CHARLOTTE
## [21] LAURA  --FRANCES   LAURA  --ELEANOR   LAURA  --RUTH      LAURA  --PEARL    
## [25] LAURA  --NORA      LAURA  --VERNE     LAURA  --SYLVIA    LAURA  --HELEN    
## [29] LAURA  --MYRNA     LAURA  --KATHERINE LAURA  --DOROTHY   THERESA--BRENDA   
## + ... omitted several edges</code></pre>
</div>
</div>
<div id="plotting-projected-one-mode-networks" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Plotting Projected One-Mode Networks</h2>
<p>Now that we have extracted the one-mode networks, plot the two new graphs using <code>plot()</code> and the additional arguments used previously.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set graph parameters to 1 row and 2 columns</span></span>
<span id="cb84-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb84-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Store node coordinates</span></span>
<span id="cb84-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-4" aria-hidden="true" tabindex="-1"></a>coords_women <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(davis_women_ig)</span>
<span id="cb84-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-5" aria-hidden="true" tabindex="-1"></a>coords_events <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(davis_events_ig)</span>
<span id="cb84-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graphs</span></span>
<span id="cb84-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis_women_ig,</span>
<span id="cb84-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coords_women,</span>
<span id="cb84-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="st">&quot;light blue&quot;</span>,</span>
<span id="cb84-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb84-11"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb84-12"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis_women_ig))</span>
<span id="cb84-13"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-14"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis_events_ig,</span>
<span id="cb84-15"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coords_events,</span>
<span id="cb84-16"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="st">&quot;yellow&quot;</span>,</span>
<span id="cb84-17"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb84-18"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb84-19"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb84-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis_events_ig))</span></code></pre></div>
<p><img src="1-Importing_and_Manipulating_in_igraph_files/figure-html/unnamed-chunk-59-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="saving-network-plots" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Saving Network Plots</h2>
<p>Now, save plots of the two-mode network and the two one-mode networks produced.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="at">file =</span> <span class="st">&quot;davis1.png&quot;</span>,<span class="at">width =</span> <span class="dv">4</span>,<span class="at">height =</span> <span class="dv">4</span>,<span class="at">units =</span> <span class="st">&#39;in&#39;</span>, <span class="at">res =</span> <span class="dv">300</span>,</span>
<span id="cb85-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">bg =</span> <span class="st">&quot;transparent&quot;</span>)</span>
<span id="cb85-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis1_ig,</span>
<span id="cb85-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout             =</span> coordfr,</span>
<span id="cb85-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color       =</span> <span class="fu">ifelse</span>(<span class="fu">get.vertex.attribute</span>(davis1_ig, <span class="at">name =</span> <span class="st">&quot;type&quot;</span>),</span>
<span id="cb85-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-6" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;lightblue&quot;</span>),</span>
<span id="cb85-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex   =</span> <span class="fl">0.6</span>,</span>
<span id="cb85-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb85-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size        =</span> <span class="fu">degree</span>(davis1_ig))</span>
<span id="cb85-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span>
<span id="cb85-11"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-12"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-12" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="at">file =</span> <span class="st">&quot;daviswomen.png&quot;</span>,<span class="at">width =</span> <span class="dv">4</span>,<span class="at">height =</span> <span class="dv">4</span>,<span class="at">units =</span> <span class="st">&#39;in&#39;</span>,<span class="at">res =</span> <span class="dv">300</span>,</span>
<span id="cb85-13"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">bg =</span> <span class="st">&quot;transparent&quot;</span>)</span>
<span id="cb85-14"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis_women_ig,</span>
<span id="cb85-15"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coords_women,</span>
<span id="cb85-16"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="st">&quot;light blue&quot;</span>,</span>
<span id="cb85-17"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb85-18"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb85-19"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis_women_ig))</span>
<span id="cb85-20"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span>
<span id="cb85-21"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-22"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-22" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="at">file =</span> <span class="st">&quot;davisevents.png&quot;</span>,<span class="at">width =</span> <span class="dv">4</span>,<span class="at">height =</span> <span class="dv">4</span>,<span class="at">units =</span> <span class="st">&#39;in&#39;</span>,<span class="at">res =</span> <span class="dv">300</span>,</span>
<span id="cb85-23"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">bg =</span> <span class="st">&quot;transparent&quot;</span>)</span>
<span id="cb85-24"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-24" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(davis_events_ig,</span>
<span id="cb85-25"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> coords_events,</span>
<span id="cb85-26"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="st">&quot;yellow&quot;</span>,</span>
<span id="cb85-27"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.6</span>,</span>
<span id="cb85-28"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-28" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb85-29"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">degree</span>(davis_events_ig))</span>
<span id="cb85-30"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb85-30" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
<div id="saving-network-data-1" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Saving Network Data</h2>
<p>Once again, it doesn’t hurt to save the data that you’ve imported and created.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(davis_mat,</span>
<span id="cb86-2"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-2" aria-hidden="true" tabindex="-1"></a>     davis1_mat,</span>
<span id="cb86-3"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-3" aria-hidden="true" tabindex="-1"></a>     davis1_ig, </span>
<span id="cb86-4"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-4" aria-hidden="true" tabindex="-1"></a>     davis2_ig, </span>
<span id="cb86-5"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-5" aria-hidden="true" tabindex="-1"></a>     davis3_ig, </span>
<span id="cb86-6"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-6" aria-hidden="true" tabindex="-1"></a>     davis_events_ig,</span>
<span id="cb86-7"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-7" aria-hidden="true" tabindex="-1"></a>     davis_events_mat,</span>
<span id="cb86-8"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-8" aria-hidden="true" tabindex="-1"></a>     davis_women_ig,</span>
<span id="cb86-9"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-9" aria-hidden="true" tabindex="-1"></a>     davis_women_mat,</span>
<span id="cb86-10"><a href="two-mode-social-network-data-in-igraph-davis-southern-women.html#cb86-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">file =</span> <span class="st">&quot;data/davis_igraph.RData&quot;</span>)</span></code></pre></div>
<p>That’s all (for <strong>igraph</strong>) for now.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="one-mode-social-network-data-in-igraph-koschade-network.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cjcallag/r4ds/edit/editing/1-Importing_and_Manipulating_in_igraph.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"font_settings": {
"family": "sans",
"theme": "white",
"size": 2
},
"info": true,
"toolbar": {
"position": "fixed"
}
});
});
</script>

</body>

</html>
